<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. Krishna Karoo - Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'admin-primary': '#2563EB',
                        'admin-secondary': '#64748B',
                        'admin-success': '#10B981',
                        'admin-danger': '#EF4444',
                        'admin-warning': '#F59E0B',
                        'admin-bg': '#F8FAFC',
                        'admin-card': '#FFFFFF',
                        'admin-text': '#1E293B',
                        'sidebar-bg': '#1E293B',
                        'sidebar-text': '#F8FAFC'
                    }
                }
            }
        }
    </script>
    <style>
        /* Portfolio styles */
        .portfolio-bg { background: #0F172A; }
        .portfolio-text { color: #F8FAFC; }
        .portfolio-primary { color: #0077B6; }
        .portfolio-accent { color: #F28C28; }
        .portfolio-card { background: #1E293B; }
        .portfolio-nav {
            backdrop-filter: blur(10px);
            background: rgba(15, 23, 42, 0.9);
        }
        .hero-gradient {
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 100%);
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 119, 182, 0.3);
        }
        .btn-transition {
            transition: all 0.3s ease;
        }
        .btn-transition:hover {
            transform: translateY(-2px);
        }
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.7);
        }
        .animate-slideIn {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .social-icon:hover {
            transform: translateY(-3px) scale(1.1);
        }
        .section-padding {
            padding: 80px 0;
        }
        .scroll-smooth {
            scroll-behavior: smooth;
        }
        
        /* Admin styles */
        .sidebar-transition {
            transition: all 0.3s ease;
        }
        .table-hover:hover {
            background-color: #F1F5F9;
        }
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        .status-completed {
            background-color: #D1FAE5;
            color: #065F46;
        }
        .status-progress {
            background-color: #DBEAFE;
            color: #1E40AF;
        }
        .status-planned {
            background-color: #FEF3C7;
            color: #92400E;
        }
    </style>
</head>
<body class="scroll-smooth">

    <!-- Public Portfolio View -->
    <div id="portfolioView" class="portfolio-bg min-h-screen">
        <!-- Navigation -->
        <nav class="portfolio-nav fixed w-full top-0 z-40 border-b border-gray-700">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center">
                        <h1 class="text-xl font-bold portfolio-text" id="navName">Dr. Krishna Karoo</h1>
                    </div>
                    <div class="hidden md:flex space-x-6">
                        <a href="#hero" class="portfolio-text hover:text-blue-300 transition-colors">Home</a>
                        <a href="#about" class="portfolio-text hover:text-blue-300 transition-colors">About</a>
                        
                        <!-- Publications Dropdown -->
                        <div class="relative group">
                            <button class="portfolio-text hover:text-blue-300 transition-colors flex items-center">
                                Publications
                                <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="absolute left-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                                <a href="#papers" onclick="showPortfolioSection('papers')" class="block px-4 py-2 text-sm portfolio-text hover:bg-gray-700 transition-colors">Research Papers</a>
                                <a href="#books" onclick="showPortfolioSection('books')" class="block px-4 py-2 text-sm portfolio-text hover:bg-gray-700 transition-colors">Books</a>
                            </div>
                        </div>
                        
                        <!-- Academic Dropdown -->
                        <div class="relative group">
                            <button class="portfolio-text hover:text-blue-300 transition-colors flex items-center">
                                Academic
                                <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div class="absolute left-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                                <a href="#teaching" onclick="showPortfolioSection('teaching')" class="block px-4 py-2 text-sm portfolio-text hover:bg-gray-700 transition-colors">Teaching</a>
                                <a href="#students" onclick="showPortfolioSection('students')" class="block px-4 py-2 text-sm portfolio-text hover:bg-gray-700 transition-colors">Students & Guidance</a>
                            </div>
                        </div>
                        
                        <a href="#projects" onclick="showPortfolioSection('projects')" class="portfolio-text hover:text-blue-300 transition-colors">Projects</a>
                        <a href="#gallery" class="portfolio-text hover:text-blue-300 transition-colors">Gallery</a>
                        <a href="#contact" class="portfolio-text hover:text-blue-300 transition-colors">Contact</a>
                        <button onclick="showLoginModal()" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 btn-transition flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                            </svg>
                            Admin Login
                        </button>
                    </div>
                    <!-- Mobile menu button -->
                    <div class="md:hidden">
                        <button onclick="toggleMobileMenu()" class="portfolio-text">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <!-- Mobile menu -->
            <div id="mobileMenu" class="hidden md:hidden bg-gray-800 border-t border-gray-700">
                <div class="px-2 pt-2 pb-3 space-y-1">
                    <a href="#hero" class="portfolio-text block px-3 py-2 text-base font-medium">Home</a>
                    <a href="#about" class="portfolio-text block px-3 py-2 text-base font-medium">About</a>
                    
                    <!-- Publications Submenu -->
                    <div class="pl-3">
                        <p class="text-gray-400 text-sm font-semibold px-3 py-2">Publications</p>
                        <a href="#papers" onclick="showPortfolioSection('papers')" class="portfolio-text block px-3 py-2 text-sm pl-6">• Research Papers</a>
                        <a href="#books" onclick="showPortfolioSection('books')" class="portfolio-text block px-3 py-2 text-sm pl-6">• Books</a>
                    </div>
                    
                    <!-- Academic Submenu -->
                    <div class="pl-3">
                        <p class="text-gray-400 text-sm font-semibold px-3 py-2">Academic</p>
                        <a href="#teaching" onclick="showPortfolioSection('teaching')" class="portfolio-text block px-3 py-2 text-sm pl-6">• Teaching</a>
                        <a href="#students" onclick="showPortfolioSection('students')" class="portfolio-text block px-3 py-2 text-sm pl-6">• Students & Guidance</a>
                    </div>
                    
                    <a href="#projects" onclick="showPortfolioSection('projects')" class="portfolio-text block px-3 py-2 text-base font-medium">Projects</a>
                    <a href="#gallery" class="portfolio-text block px-3 py-2 text-base font-medium">Gallery</a>
                    <a href="#contact" class="portfolio-text block px-3 py-2 text-base font-medium">Contact</a>
                    <button onclick="showLoginModal()" class="w-full text-left bg-blue-600 text-white px-3 py-2 text-base font-medium rounded">Admin Login</button>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section id="hero" class="hero-gradient min-h-screen flex items-center justify-center px-4 pt-20">
            <div class="max-w-5xl mx-auto animate-fadeIn w-full">
                <div class="flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-12">
                    <div class="flex-shrink-0">
                        <img id="heroImage" src="./assets/images/krishna.jpeg" class="w-40 h-52 sm:w-48 sm:h-64 md:w-56 md:h-72 rounded-lg object-cover border-4 border-blue-500 shadow-xl" alt="Profile">
                    </div>
                    <div class="flex-1 text-center md:text-left w-full">
                        <h1 id="heroName" class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold portfolio-text mb-3 md:mb-4">Dr. Krishna Karoo</h1>
                        <p id="heroTitle" class="text-base sm:text-lg md:text-xl lg:text-2xl portfolio-text mb-2 md:mb-3">Assistant Professor, Computer Science</p>
                        <p id="heroInstitution" class="text-sm sm:text-base md:text-lg portfolio-text mb-4 md:mb-6 opacity-90">Gondwana University, Gadchiroli</p>
                        <div id="heroTags" class="flex flex-wrap justify-center md:justify-start gap-2 md:gap-3 mb-4 md:mb-6">
                            <span class="bg-blue-600 text-white px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm">Machine Learning</span>
                            <span class="bg-orange-500 text-white px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm">Academic Authorship</span>
                            <span class="bg-blue-600 text-white px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm">Software Development</span>
                        </div>
                        <div class="flex justify-center md:justify-start flex-wrap gap-3 md:gap-4 lg:gap-6 mb-4 md:mb-6">
                    <a href="#" id="linkedinLink" target="_blank" rel="noopener noreferrer" class="social-icon text-gray-300 hover:text-blue-400 transition-all duration-300">
                        <svg class="w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                    </a>
                    <a href="#" id="twitterLink" target="_blank" rel="noopener noreferrer" class="social-icon text-gray-300 hover:text-blue-300 transition-all duration-300">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>
                        </svg>
                    </a>
                    <a href="#" id="githubLink" target="_blank" rel="noopener noreferrer" class="social-icon text-gray-300 hover:text-gray-100 transition-all duration-300">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                    </a>
                    <a href="#" id="researchgateLink" target="_blank" rel="noopener noreferrer" class="social-icon text-gray-300 hover:text-teal-400 transition-all duration-300">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19.586 0c-.818 0-1.508.19-2.073.565-.563.377-.97.936-1.213 1.68a3.193 3.193 0 0 0-.112.437 8.365 8.365 0 0 0-.078.53 9 9 0 0 0-.05.727c-.01.282-.013.621-.013 1.016a31.121 31.121 0 0 0 .014 1.017 9 9 0 0 0 .05.727 7.946 7.946 0 0 0 .077.53h-.005a3.334 3.334 0 0 0 .113.438c.245.743.65 1.303 1.214 1.68.564.376 1.254.564 2.072.564.8 0 1.483-.182 2.048-.547.564-.366.98-.919 1.247-1.662a3.808 3.808 0 0 0 .116-.453c.031-.186.062-.375.081-.567.022-.192.036-.39.044-.595.008-.204.012-.439.012-.703 0-.265-.004-.5-.012-.704a7.028 7.028 0 0 0-.044-.595 6.988 6.988 0 0 0-.081-.567 3.808 3.808 0 0 0-.116-.453c-.268-.743-.683-1.296-1.247-1.662C21.07.183 20.387 0 19.586 0zm-7.635 4.595c-.84 0-1.53.202-2.072.606-.542.404-.96.982-1.256 1.735-.295.753-.442 1.644-.442 2.673v7.124c0 1.026.147 1.918.442 2.675.296.753.714 1.332 1.256 1.735.542.404 1.233.606 2.072.606.84 0 1.53-.202 2.072-.606.542-.403.96-.982 1.256-1.735.295-.757.442-1.65.442-2.675v-7.124c0-1.029-.147-1.92-.442-2.673-.295-.753-.714-1.331-1.256-1.735-.542-.404-1.233-.606-2.072-.606zM4.5 5.5v11c0 .276.224.5.5.5h3c.276 0 .5-.224.5-.5v-11c0-.276-.224-.5-.5-.5H5c-.276 0-.5.224-.5.5z"/>
                        </svg>
                    </a>
                    <a href="#" id="googleScholarLink" target="_blank" rel="noopener noreferrer" class="social-icon text-gray-300 hover:text-blue-500 transition-all duration-300">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 24a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm0-24L0 9.5l4.838 3.94A8 8 0 0 1 12 9a8 8 0 0 1 7.162 4.44L24 9.5z"/>
                        </svg>
                    </a>
                    <a href="#" id="orcidLink" target="_blank" rel="noopener noreferrer" class="social-icon text-gray-300 hover:text-green-500 transition-all duration-300">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zM7.369 4.378c.525 0 .947.431.947.947a.95.95 0 0 1-.947.947.95.95 0 0 1-.947-.947c0-.525.422-.947.947-.947zm-.722 3.038h1.444v10.041H6.647V7.416zm3.562 0h3.9c3.712 0 5.344 2.653 5.344 5.025 0 2.578-2.016 5.016-5.325 5.016h-3.919V7.416zm1.444 1.303v7.444h2.297c2.359 0 4.028-1.313 4.028-3.722 0-2.472-1.765-3.722-4.028-3.722h-2.297z"/>
                        </svg>
                    </a>
                    <a href="#" id="facebookLink" target="_blank" rel="noopener noreferrer" class="social-icon text-gray-300 hover:text-blue-600 transition-all duration-300">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                        </svg>
                    </a>
                    <a href="#" id="instagramLink" target="_blank" rel="noopener noreferrer" class="social-icon text-gray-300 hover:text-pink-500 transition-all duration-300">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                        </svg>
                    </a>
                    <a href="#" id="whatsappLink" target="_blank" rel="noopener noreferrer" class="social-icon text-gray-300 hover:text-green-500 transition-all duration-300">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                        </svg>
                    </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-12 sm:py-16 md:py-20 lg:section-padding portfolio-bg">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-8 sm:mb-12 md:mb-16">
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold portfolio-text mb-4">About</h2>
                    <div class="w-20 h-1 bg-blue-500 mx-auto"></div>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                    <div class="space-y-6">
                        <h3 class="text-2xl font-semibold portfolio-text mb-4">Professional Journey</h3>
                        <p id="aboutBio" class="text-gray-300 leading-relaxed">
                            Assistant Professor specializing in Machine Learning, Academic Authorship, and Advanced Software Development. 
                            Research mentor, Ph.D. supervisor, author of books and journal papers. Developer of academic tools.
                        </p>
                        <div class="grid grid-cols-2 gap-4 sm:gap-6 mt-6 sm:mt-8">
                            <div class="text-center">
                                <div id="papersCount" class="text-2xl sm:text-3xl font-bold text-blue-400">15+</div>
                                <div class="text-gray-300">Research Papers</div>
                            </div>
                            <div class="text-center">
                                <div id="booksCount" class="text-3xl font-bold text-orange-400">5+</div>
                                <div class="text-gray-300">Books Authored</div>
                            </div>
                        </div>
                    </div>
                    <div class="portfolio-card rounded-lg p-8">
                        <h4 class="text-xl font-semibold portfolio-text mb-6">Research Interests</h4>
                        <ul class="space-y-3">
                            <li class="flex items-center text-gray-300">
                                <svg class="w-5 h-5 text-blue-400 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                </svg>
                                Machine Learning & AI
                            </li>
                            <li class="flex items-center text-gray-300">
                                <svg class="w-5 h-5 text-blue-400 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                </svg>
                                Biometric Security Systems
                            </li>
                            <li class="flex items-center text-gray-300">
                                <svg class="w-5 h-5 text-blue-400 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                </svg>
                                Database Management Systems
                            </li>
                            <li class="flex items-center text-gray-300">
                                <svg class="w-5 h-5 text-blue-400 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                </svg>
                                Academic Software Development
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Research Papers Section -->
        <section id="papers" class="section-padding bg-gray-900 hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold portfolio-text mb-4">Research Papers</h2>
                    <div class="w-20 h-1 bg-blue-500 mx-auto"></div>
                </div>
                <div id="papersGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Papers will be populated here -->
                </div>
            </div>
        </section>

        <!-- Books Section -->
        <section id="books" class="section-padding portfolio-bg hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold portfolio-text mb-4">Books</h2>
                    <div class="w-20 h-1 bg-orange-500 mx-auto"></div>
                </div>
                <div id="booksGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Books will be populated here -->
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="section-padding bg-gray-900 hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold portfolio-text mb-4">Projects</h2>
                    <div class="w-20 h-1 bg-green-500 mx-auto"></div>
                </div>
                <div id="projectsGrid" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Projects will be populated here -->
                </div>
            </div>
        </section>

        <!-- Teaching Section -->
        <section id="teaching" class="section-padding portfolio-bg hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold portfolio-text mb-4">Teaching</h2>
                    <div class="w-20 h-1 bg-teal-500 mx-auto"></div>
                </div>
                <div id="teachingGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Teaching subjects will be populated here -->
                </div>
            </div>
        </section>

        <!-- Students Section -->
        <section id="students" class="section-padding bg-gray-900 hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold portfolio-text mb-4">Students & Guidance</h2>
                    <div class="w-20 h-1 bg-yellow-500 mx-auto"></div>
                </div>
                <div id="studentsGrid" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Students will be populated here -->
                </div>
            </div>
        </section>

        <!-- Publications & Projects Overview -->
        <section id="publications" class="section-padding bg-gray-900">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold portfolio-text mb-4">Publications & Projects</h2>
                    <div class="w-20 h-1 bg-blue-500 mx-auto"></div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Research Papers Card -->
                    <div class="portfolio-card rounded-lg p-8 card-hover transition-all duration-300 cursor-pointer" onclick="showPortfolioSection('papers')">
                        <div class="text-center mb-6">
                            <svg class="w-16 h-16 text-blue-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            <h3 class="text-xl font-semibold portfolio-text">Research Papers</h3>
                        </div>
                        <p class="text-gray-300 text-center mb-6">
                            Published research in machine learning, biometric security, and database optimization with international recognition.
                        </p>
                        <div class="text-center">
                            <span id="paperCountDisplay" class="text-2xl font-bold text-blue-400">0</span>
                            <p class="text-sm text-gray-400">Published Papers</p>
                        </div>
                        <div id="recentPapers" class="mt-6 space-y-3">
                            <!-- Papers will be populated here -->
                        </div>
                    </div>

                    <!-- Books Card -->
                    <div class="portfolio-card rounded-lg p-8 card-hover transition-all duration-300 cursor-pointer" onclick="showPortfolioSection('books')">
                        <div class="text-center mb-6">
                            <svg class="w-16 h-16 text-orange-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                            </svg>
                            <h3 class="text-xl font-semibold portfolio-text">Books</h3>
                        </div>
                        <p class="text-gray-300 text-center mb-6">
                            Authored comprehensive textbooks on Database Management Systems and Algorithm Design for computer science education.
                        </p>
                        <div class="text-center">
                            <span id="bookCountDisplay" class="text-2xl font-bold text-orange-400">0</span>
                            <p class="text-sm text-gray-400">Published Books</p>
                        </div>
                        <div id="recentBooks" class="mt-6 space-y-3">
                            <!-- Books will be populated here -->
                        </div>
                    </div>

                    <!-- Projects Card -->
                    <div class="portfolio-card rounded-lg p-8 card-hover transition-all duration-300 cursor-pointer" onclick="showPortfolioSection('projects')">
                        <div class="text-center mb-6">
                            <svg class="w-16 h-16 text-green-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                            </svg>
                            <h3 class="text-xl font-semibold portfolio-text">Projects</h3>
                        </div>
                        <p class="text-gray-300 text-center mb-6">
                            Developed innovative academic tools including the Thesis Tracking System and ML-powered research paper analyzer.
                        </p>
                        <div class="text-center">
                            <span id="projectCountDisplay" class="text-2xl font-bold text-green-400">0</span>
                            <p class="text-sm text-gray-400">Academic Tools</p>
                        </div>
                        <div id="recentProjects" class="mt-6 space-y-3">
                            <!-- Projects will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Photo Gallery Section -->
        <section id="gallery" class="section-padding portfolio-bg">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold portfolio-text mb-4">Photo Gallery</h2>
                    <div class="w-20 h-1 bg-purple-500 mx-auto"></div>
                </div>
                <div class="relative">
                    <!-- Slider Container -->
                    <div class="overflow-hidden relative" style="height: 300px; sm:height: 400px; md:height: 500px;">
                        <div id="photoSlider" class="flex transition-transform duration-500 ease-in-out h-full">
                            <!-- Photos will be populated here -->
                        </div>
                    </div>
                    
                    <!-- Navigation Buttons -->
                    <button onclick="prevSlide()" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-3 rounded-full transition-all z-10">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <button onclick="nextSlide()" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-3 rounded-full transition-all z-10">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </button>
                    
                    <!-- Dots Indicator -->
                    <div id="sliderDots" class="flex justify-center mt-6 space-x-2">
                        <!-- Dots will be populated here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Detail Modal -->
        <div id="detailModal" class="modal-backdrop fixed inset-0 z-50 hidden flex items-center justify-center p-4">
            <div class="bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-screen overflow-y-auto animate-slideIn border border-gray-700">
                <div class="sticky top-0 bg-gray-900 border-b border-gray-700 p-6 flex justify-between items-center">
                    <h3 id="detailModalTitle" class="text-2xl font-semibold portfolio-text"></h3>
                    <button onclick="closeDetailModal()" class="text-gray-400 hover:text-gray-200">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div id="detailModalContent" class="p-6">
                    <!-- Content will be populated here -->
                </div>
            </div>
        </div>

        <!-- Contact Section -->
        <section id="contact" class="section-padding portfolio-bg">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold portfolio-text mb-4">Get In Touch</h2>
                    <div class="w-20 h-1 bg-blue-500 mx-auto mb-6"></div>
                    <p class="text-gray-300 max-w-2xl mx-auto">Interested in research collaboration, PhD supervision, or academic consultation? Feel free to reach out.</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    <!-- Contact Info -->
                    <div class="space-y-8">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-semibold portfolio-text">Email</h4>
                                <p id="contactEmail" class="text-gray-300">krishna.karoo@university.edu</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-semibold portfolio-text">Phone</h4>
                                <p id="contactPhone" class="text-gray-300">+91-9876543210</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <h4 class="font-semibold portfolio-text">Office</h4>
                                <p id="contactAddress" class="text-gray-300">Computer Science Department<br>Gondwana University, Gadchiroli</p>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Form -->
                    <div class="portfolio-card rounded-lg p-8">
                        <form id="contactForm" class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium portfolio-text mb-2">Your Name</label>
                                <input type="text" id="contactName" required class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium portfolio-text mb-2">Email Address</label>
                                <input type="email" id="contactEmailInput" required class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium portfolio-text mb-2">Subject</label>
                                <input type="text" id="contactSubject" class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium portfolio-text mb-2">Message</label>
                                <textarea id="contactMessage" rows="5" required class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-white"></textarea>
                            </div>
                            <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 btn-transition font-medium">Send Message</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Floating WhatsApp Icon -->
        <a href="#" id="floatingWhatsapp" target="_blank" rel="noopener noreferrer" class="fixed bottom-6 right-6 z-50 bg-green-500 text-white rounded-full p-4 shadow-lg hover:bg-green-600 transition-all duration-300 hover:scale-110">
            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
            </svg>
        </a>

        <!-- Footer -->
        <footer class="bg-gray-900 border-t border-gray-700 py-8">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-4">
                    <p class="text-gray-400">&copy; 2024 <span id="footerName">Dr. Krishna Karoo</span>. All rights reserved. Assistant Professor, Computer Science | Gondwana University</p>
                </div>
                <div class="flex items-center justify-center space-x-2 text-gray-500 text-sm">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                    </svg>
                    <span>Total Visitors: <strong id="visitorCount" class="text-gray-300">0</strong></span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Admin Login Modal -->
    <div id="loginModal" class="modal-backdrop fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-md animate-slideIn">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-xl font-semibold text-admin-text">Admin Login</h3>
                    <button onclick="closeLoginModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <form id="loginForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Username</label>
                        <input type="text" id="username" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Password</label>
                        <input type="password" id="password" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div id="loginError" class="text-red-600 text-sm hidden"></div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" onclick="closeLoginModal()" class="px-4 py-2 text-admin-secondary hover:text-admin-text">Cancel</button>
                        <button type="submit" class="bg-admin-primary text-white px-6 py-2 rounded-md hover:bg-blue-700 btn-transition">Login</button>
                    </div>
                </form>
                <div class="mt-4 text-center text-sm text-admin-secondary">
                    <p>Demo: admin / krishna2025</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Panel View -->
    <div id="dashboard" class="hidden min-h-screen flex">
        <!-- Sidebar -->
        <div class="bg-sidebar-bg w-64 min-h-screen sidebar-transition">
            <div class="p-6">
                <div class="flex items-center mb-8">
                    <div class="w-10 h-10 bg-admin-primary rounded-full flex items-center justify-center mr-3">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110 4m0-4v2m0-6V4"></path>
                        </svg>
                    </div>
                    <div>
                        <h2 class="text-sidebar-text font-bold text-lg">Admin Panel</h2>
                        <p class="text-gray-400 text-xs">Portfolio Management</p>
                    </div>
                </div>
                
                <!-- Navigation Menu -->
                <nav class="space-y-2">
                    <button onclick="showSection('papers')" class="nav-btn w-full text-left px-4 py-3 text-sidebar-text hover:bg-gray-700 rounded-lg transition-colors flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        Research Papers
                    </button>
                    <button onclick="showSection('books')" class="nav-btn w-full text-left px-4 py-3 text-sidebar-text hover:bg-gray-700 rounded-lg transition-colors flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                        Books
                    </button>
                    <button onclick="showSection('projects')" class="nav-btn w-full text-left px-4 py-3 text-sidebar-text hover:bg-gray-700 rounded-lg transition-colors flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                        </svg>
                        Projects
                    </button>
                    <button onclick="showSection('gallery')" class="nav-btn w-full text-left px-4 py-3 text-sidebar-text hover:bg-gray-700 rounded-lg transition-colors flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        Photo Gallery
                    </button>
                    <button onclick="showSection('teaching')" class="nav-btn w-full text-left px-4 py-3 text-sidebar-text hover:bg-gray-700 rounded-lg transition-colors flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                        Teaching
                    </button>
                    <button onclick="showSection('students')" class="nav-btn w-full text-left px-4 py-3 text-sidebar-text hover:bg-gray-700 rounded-lg transition-colors flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                        Students
                    </button>
                    <button onclick="showSection('profile')" class="nav-btn w-full text-left px-4 py-3 text-sidebar-text hover:bg-gray-700 rounded-lg transition-colors flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        Profile
                    </button>
                    <button onclick="showSection('messages')" class="nav-btn w-full text-left px-4 py-3 text-sidebar-text hover:bg-gray-700 rounded-lg transition-colors flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        Messages
                    </button>
                </nav>

                <!-- Export and Logout -->
                <div class="mt-8 pt-8 border-t border-gray-700 space-y-2">
                    <button onclick="exportData()" class="w-full px-4 py-3 bg-admin-success text-white rounded-lg hover:bg-green-600 btn-transition flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        Export Data
                    </button>
                    <button onclick="logout()" class="w-full px-4 py-3 bg-admin-danger text-white rounded-lg hover:bg-red-600 btn-transition flex items-center justify-center">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                        </svg>
                        Logout
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="flex-1 flex flex-col">
            <!-- Top Header -->
            <header class="bg-admin-card shadow-sm border-b border-gray-200 px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 id="pageTitle" class="text-2xl font-bold text-admin-text">Dashboard</h1>
                        <p class="text-admin-secondary text-sm">Manage your portfolio content</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="text-right">
                            <p class="text-sm font-medium text-admin-text">Dr. Krishna Karoo</p>
                            <p class="text-xs text-admin-secondary">Administrator</p>
                        </div>
                        <div class="w-10 h-10 bg-admin-primary rounded-full flex items-center justify-center">
                            <span class="text-white font-medium">KK</span>
                        </div>
                        <button onclick="returnToPortfolio()" class="text-sm bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600 btn-transition">Back to Portfolio</button>
                    </div>
                </div>
            </header>

            <!-- Content Sections -->
            <main class="flex-1 p-6 overflow-y-auto">
                <!-- Research Papers Section -->
                <div id="papersSection" class="section-content">
                    <div class="bg-admin-card rounded-lg shadow-sm p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-semibold text-admin-text">Research Papers</h2>
                            <button onclick="showAddPaperModal()" class="bg-admin-primary text-white px-4 py-2 rounded-md hover:bg-blue-700 btn-transition flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                                Add New Paper
                            </button>
                        </div>
                        <div id="papersList" class="space-y-4"></div>
                    </div>
                </div>

                <!-- Books Section -->
                <div id="booksSection" class="section-content hidden">
                    <div class="bg-admin-card rounded-lg shadow-sm p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-semibold text-admin-text">Books</h2>
                            <button onclick="showAddBookModal()" class="bg-admin-primary text-white px-4 py-2 rounded-md hover:bg-blue-700 btn-transition flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                                Add New Book
                            </button>
                        </div>
                        <div id="booksList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                    </div>
                </div>

                <!-- Projects Section -->
                <div id="projectsSection" class="section-content hidden">
                    <div class="bg-admin-card rounded-lg shadow-sm p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-semibold text-admin-text">Projects</h2>
                            <button onclick="showAddProjectModal()" class="bg-admin-primary text-white px-4 py-2 rounded-md hover:bg-blue-700 btn-transition flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                                Add New Project
                            </button>
                        </div>
                        <div id="projectsList" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
                    </div>
                </div>

                <!-- Profile Section -->
                <div id="profileSection" class="section-content hidden">
                    <div class="bg-admin-card rounded-lg shadow-sm p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-semibold text-admin-text">Profile Information</h2>
                            <button onclick="saveProfile()" class="bg-admin-success text-white px-4 py-2 rounded-md hover:bg-green-600 btn-transition flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                Save Profile
                            </button>
                        </div>                <form id="profileForm" class="space-y-6">
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-admin-text mb-2">Profile Photo</label>
                        <div class="flex items-center space-x-6">
                            <img id="profilePhotoPreview" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAEAAQADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD/AH" class="w-32 h-32 rounded-lg object-cover border-2 border-gray-300">
                            <div class="flex-1">
                                <div class="flex items-center space-x-4 mb-2">
                                    <label class="flex items-center space-x-2 cursor-pointer">
                                        <input type="radio" name="profilePhotoInputType" value="file" checked class="form-radio text-admin-primary" onchange="toggleProfilePhotoInput('file')">
                                        <span class="text-sm text-admin-text">Upload from Computer</span>
                                    </label>
                                    <label class="flex items-center space-x-2 cursor-pointer">
                                        <input type="radio" name="profilePhotoInputType" value="url" class="form-radio text-admin-primary" onchange="toggleProfilePhotoInput('url')">
                                        <span class="text-sm text-admin-text">Enter URL</span>
                                    </label>
                                </div>
                                <div id="profilePhotoFileInput">
                                    <input type="file" id="profilePhotoFile" accept="image/*" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary text-sm">
                                    <p class="text-xs text-gray-500 mt-1">Supported formats: JPG, PNG, GIF (Max 5MB)</p>
                                </div>
                                <div id="profilePhotoUrlInput" class="hidden">
                                    <input type="url" id="profilePhotoUrl" placeholder="https://..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Full Name</label>
                                <input type="text" id="profileName" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Title/Position</label>
                                <input type="text" id="profileTitle" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Institution</label>
                                <input type="text" id="profileInstitution" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Email</label>
                                <input type="email" id="profileEmail" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Phone</label>
                                <input type="tel" id="profilePhone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Office Address</label>
                                <textarea id="profileAddress" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary"></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Bio</label>
                                <textarea id="profileBio" rows="6" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <div class="border-t pt-6">
                        <h3 class="text-lg font-semibold text-admin-text mb-4">Social Media Links</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">LinkedIn URL</label>
                                <input type="url" id="profileLinkedin" placeholder="https://linkedin.com/in/..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Twitter URL</label>
                                <input type="url" id="profileTwitter" placeholder="https://twitter.com/..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">GitHub URL</label>
                                <input type="url" id="profileGithub" placeholder="https://github.com/..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">ResearchGate URL</label>
                                <input type="url" id="profileResearchgate" placeholder="https://researchgate.net/profile/..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Google Scholar URL</label>
                                <input type="url" id="profileGoogleScholar" placeholder="https://scholar.google.com/..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">ORCID URL</label>
                                <input type="url" id="profileOrcid" placeholder="https://orcid.org/..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Facebook URL</label>
                                <input type="url" id="profileFacebook" placeholder="https://facebook.com/..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">Instagram URL</label>
                                <input type="url" id="profileInstagram" placeholder="https://instagram.com/..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-admin-text mb-2">WhatsApp Number</label>
                                <input type="text" id="profileWhatsapp" placeholder="https://wa.me/..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                        </div>
                    </div>
                </form>
                    </div>
                </div>

                <!-- Messages Section -->
                <div id="messagesSection" class="section-content hidden">
                    <div class="bg-admin-card rounded-lg shadow-sm p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-semibold text-admin-text">Contact Messages</h2>
                            <div class="flex space-x-2">
                                <button onclick="markAllAsRead()" class="bg-admin-secondary text-white px-4 py-2 rounded-md hover:bg-gray-600 btn-transition text-sm">Mark All Read</button>
                                <button onclick="deleteAllMessages()" class="bg-admin-danger text-white px-4 py-2 rounded-md hover:bg-red-600 btn-transition text-sm">Clear All</button>
                            </div>
                        </div>
                        <div id="messagesList" class="space-y-4"></div>
                    </div>
                </div>

                <!-- Teaching Section -->
                <div id="teachingSection" class="section-content hidden">
                    <div class="bg-admin-card rounded-lg shadow-sm p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-semibold text-admin-text">Teaching Subjects</h2>
                            <button onclick="showAddTeachingModal()" class="bg-admin-primary text-white px-4 py-2 rounded-md hover:bg-blue-700 btn-transition flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                                Add Teaching Subject
                            </button>
                        </div>
                        <div id="teachingList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                    </div>
                </div>

                <!-- Students Section -->
                <div id="studentsSection" class="section-content hidden">
                    <div class="bg-admin-card rounded-lg shadow-sm p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-semibold text-admin-text">Students & Guidance</h2>
                            <button onclick="showAddStudentModal()" class="bg-admin-primary text-white px-4 py-2 rounded-md hover:bg-blue-700 btn-transition flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                                Add Student
                            </button>
                        </div>
                        <div id="studentsList" class="space-y-4"></div>
                    </div>
                </div>

                <!-- Photo Gallery Section -->
                <div id="gallerySection" class="section-content hidden">
                    <div class="bg-admin-card rounded-lg shadow-sm p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-semibold text-admin-text">Photo Gallery</h2>
                            <button onclick="showAddPhotoModal()" class="bg-admin-primary text-white px-4 py-2 rounded-md hover:bg-blue-700 btn-transition flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                                Add New Photo
                            </button>
                        </div>
                        <div id="photosList" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals for Add/Edit -->
    <div id="paperModal" class="modal-backdrop fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-admin-card rounded-lg shadow-2xl w-full max-w-2xl max-h-screen overflow-y-auto animate-slideIn">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="paperModalTitle" class="text-xl font-semibold text-admin-text">Add New Research Paper</h3>
                    <button onclick="closePaperModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <form id="paperForm" class="space-y-4">
                    <input type="hidden" id="paperEditId">
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Paper Title</label>
                        <input type="text" id="paperTitle" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Authors</label>
                        <input type="text" id="paperAuthors" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Journal/Conference</label>
                            <input type="text" id="paperJournal" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Publication Year</label>
                            <input type="number" id="paperYear" min="1900" max="2030" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">DOI</label>
                            <input type="text" id="paperDoi" placeholder="10.1234/example" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Paper Link</label>
                            <input type="url" id="paperLink" placeholder="https://..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Abstract</label>
                        <textarea id="paperAbstract" rows="4" placeholder="Brief summary of the research paper..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary"></textarea>
                    </div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" onclick="closePaperModal()" class="px-4 py-2 text-admin-secondary hover:text-admin-text">Cancel</button>
                        <button type="submit" class="bg-admin-primary text-white px-6 py-2 rounded-md hover:bg-blue-700 btn-transition">Save Paper</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="bookModal" class="modal-backdrop fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-admin-card rounded-lg shadow-2xl w-full max-w-2xl max-h-screen overflow-y-auto animate-slideIn">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="bookModalTitle" class="text-xl font-semibold text-admin-text">Add New Book</h3>
                    <button onclick="closeBookModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <form id="bookForm" class="space-y-4">
                    <input type="hidden" id="bookEditId">
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Book Title</label>
                        <input type="text" id="bookTitle" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Authors</label>
                        <input type="text" id="bookAuthors" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Publisher</label>
                            <input type="text" id="bookPublisher" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Publication Year</label>
                            <input type="number" id="bookYear" min="1900" max="2030" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">ISBN</label>
                            <input type="text" id="bookIsbn" placeholder="978-3-16-148410-0" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Purchase Link</label>
                            <input type="url" id="bookPurchaseLink" placeholder="https://..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Cover Photo URL</label>
                        <input type="url" id="bookCoverPhoto" placeholder="https://..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Description</label>
                        <textarea id="bookDescription" rows="3" placeholder="Brief description of the book..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary"></textarea>
                    </div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" onclick="closeBookModal()" class="px-4 py-2 text-admin-secondary hover:text-admin-text">Cancel</button>
                        <button type="submit" class="bg-admin-primary text-white px-6 py-2 rounded-md hover:bg-blue-700 btn-transition">Save Book</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="projectModal" class="modal-backdrop fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-admin-card rounded-lg shadow-2xl w-full max-w-2xl max-h-screen overflow-y-auto animate-slideIn">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="projectModalTitle" class="text-xl font-semibold text-admin-text">Add New Project</h3>
                    <button onclick="closeProjectModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <form id="projectForm" class="space-y-4">
                    <input type="hidden" id="projectEditId">
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Project Title</label>
                        <input type="text" id="projectTitle" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Project Type</label>
                            <select id="projectType" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                                <option value="Web Development">Web Development</option>
                                <option value="Research">Research</option>
                                <option value="Academic Tool">Academic Tool</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Status</label>
                            <select id="projectStatus" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                                <option value="Planned">Planned</option>
                                <option value="In Progress">In Progress</option>
                                <option value="Completed">Completed</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Description</label>
                        <textarea id="projectDescription" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary"></textarea>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Technologies Used</label>
                            <input type="text" id="projectTechnologies" placeholder="Python, JavaScript, etc." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Project Link</label>
                            <input type="url" id="projectLink" placeholder="https://..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                    </div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" onclick="closeProjectModal()" class="px-4 py-2 text-admin-secondary hover:text-admin-text">Cancel</button>
                        <button type="submit" class="bg-admin-primary text-white px-6 py-2 rounded-md hover:bg-blue-700 btn-transition">Save Project</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="teachingModal" class="modal-backdrop fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-admin-card rounded-lg shadow-2xl w-full max-w-2xl max-h-screen overflow-y-auto animate-slideIn">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="teachingModalTitle" class="text-xl font-semibold text-admin-text">Add Teaching Subject</h3>
                    <button onclick="closeTeachingModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <form id="teachingForm" class="space-y-4">
                    <input type="hidden" id="teachingEditId">
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Subject Name</label>
                        <input type="text" id="teachingSubject" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Course Code</label>
                            <input type="text" id="teachingCode" placeholder="CS101" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Level</label>
                            <select id="teachingLevel" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                                <option value="Undergraduate">Undergraduate</option>
                                <option value="Postgraduate">Postgraduate</option>
                                <option value="PhD">PhD</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Semester/Year</label>
                            <input type="text" id="teachingSemester" placeholder="Fall 2024" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Date Started</label>
                            <input type="date" id="teachingDate" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Description</label>
                        <textarea id="teachingDescription" rows="4" placeholder="Course description, objectives, topics covered..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary"></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Upload Notes (PDF, DOC, PPT)</label>
                        <input type="file" id="teachingNotesFile" accept=".pdf,.doc,.docx,.ppt,.pptx" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        <p class="text-xs text-gray-500 mt-1">Supported formats: PDF, DOC, DOCX, PPT, PPTX (Max 10MB)</p>
                    </div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" onclick="closeTeachingModal()" class="px-4 py-2 text-admin-secondary hover:text-admin-text">Cancel</button>
                        <button type="submit" class="bg-admin-primary text-white px-6 py-2 rounded-md hover:bg-blue-700 btn-transition">Save Subject</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="studentModal" class="modal-backdrop fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-admin-card rounded-lg shadow-2xl w-full max-w-2xl max-h-screen overflow-y-auto animate-slideIn">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="studentModalTitle" class="text-xl font-semibold text-admin-text">Add Student</h3>
                    <button onclick="closeStudentModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <form id="studentForm" class="space-y-4">
                    <input type="hidden" id="studentEditId">
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Student Name</label>
                        <input type="text" id="studentName" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Type</label>
                            <select id="studentType" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                                <option value="PhD">PhD Scholar</option>
                                <option value="Masters">Master's Student</option>
                                <option value="Project">Project Student</option>
                                <option value="Research">Research Assistant</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Status</label>
                            <select id="studentStatus" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                                <option value="Ongoing">Ongoing</option>
                                <option value="Completed">Completed</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">Start Date</label>
                            <input type="date" id="studentStartDate" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-admin-text mb-2">End Date (if completed)</label>
                            <input type="date" id="studentEndDate" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Research Topic/Thesis Title</label>
                        <input type="text" id="studentTopic" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Description/Achievements</label>
                        <textarea id="studentDescription" rows="4" placeholder="Research description, achievements, publications..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary"></textarea>
                    </div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" onclick="closeStudentModal()" class="px-4 py-2 text-admin-secondary hover:text-admin-text">Cancel</button>
                        <button type="submit" class="bg-admin-primary text-white px-6 py-2 rounded-md hover:bg-blue-700 btn-transition">Save Student</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="photoModal" class="modal-backdrop fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-admin-card rounded-lg shadow-2xl w-full max-w-2xl max-h-screen overflow-y-auto animate-slideIn">
            <div class="p-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 id="photoModalTitle" class="text-xl font-semibold text-admin-text">Add New Photo</h3>
                    <button onclick="closePhotoModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <form id="photoForm" class="space-y-4">
                    <input type="hidden" id="photoEditId">
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Photo Title</label>
                        <input type="text" id="photoTitle" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Photo</label>
                        <div class="space-y-3">
                            <div class="flex items-center space-x-4">
                                <label class="flex items-center space-x-2 cursor-pointer">
                                    <input type="radio" name="photoInputType" value="file" checked class="form-radio text-admin-primary" onchange="togglePhotoInput('file')">
                                    <span class="text-sm text-admin-text">Upload from Computer</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer">
                                    <input type="radio" name="photoInputType" value="url" class="form-radio text-admin-primary" onchange="togglePhotoInput('url')">
                                    <span class="text-sm text-admin-text">Enter URL</span>
                                </label>
                            </div>
                            <div id="photoFileInput">
                                <input type="file" id="photoFile" accept="image/*" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                                <p class="text-xs text-gray-500 mt-1">Supported formats: JPG, PNG, GIF (Max 5MB)</p>
                            </div>
                            <div id="photoUrlInput" class="hidden">
                                <input type="url" id="photoUrl" placeholder="https://..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            </div>
                            <div id="photoPreview" class="hidden">
                                <img id="photoPreviewImage" src="" alt="Preview" class="w-full h-48 object-cover rounded-lg border-2 border-gray-300">
                            </div>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Description (Optional)</label>
                        <textarea id="photoDescription" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary"></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-admin-text mb-2">Category</label>
                        <select id="photoCategory" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-admin-primary">
                            <option value="Event">Event</option>
                            <option value="Award">Award</option>
                            <option value="Conference">Conference</option>
                            <option value="Teaching">Teaching</option>
                            <option value="Research">Research</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" onclick="closePhotoModal()" class="px-4 py-2 text-admin-secondary hover:text-admin-text">Cancel</button>
                        <button type="submit" class="bg-admin-primary text-white px-6 py-2 rounded-md hover:bg-blue-700 btn-transition">Save Photo</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Application State - Data persisted in localStorage
        let appState = {
            currentView: 'portfolio',
            isLoggedIn: false,
            currentUser: null,
            researchPapers: [],
            books: [],
            projects: [],
            photos: [],
            teaching: [],
            students: [],
            visitorCount: 0,
            profile: {
                name: 'Dr. Krishna Karoo',
                title: 'Assistant Professor, Computer Science',
                institution: 'Gondwana University, Gadchiroli',
                email: 'krishna.karoo@university.edu',
                phone: '+91-9876543210',
                address: 'Computer Science Department\nGondwana University, Gadchiroli',
                bio: 'Assistant Professor specializing in Machine Learning, Academic Authorship, and Advanced Software Development. Research mentor, Ph.D. supervisor, author of books and journal papers.',
                socialMedia: {
                    linkedin: '',
                    twitter: '',
                    github: '',
                    researchgate: '',
                    googleScholar: '',
                    orcid: '',
                    facebook: '',
                    instagram: '',
                    whatsapp: ''
                }
            },
            contactMessages: []
        };

        // LocalStorage Functions
        function saveToLocalStorage() {
            const dataToSave = {
                researchPapers: appState.researchPapers,
                books: appState.books,
                projects: appState.projects,
                photos: appState.photos,
                teaching: appState.teaching,
                students: appState.students,
                profile: appState.profile,
                contactMessages: appState.contactMessages,
                visitorCount: appState.visitorCount
            };
            try {
                window.localStorage.setItem('portfolioData', JSON.stringify(dataToSave));
            } catch (e) {
                console.log('Storage not available, using memory only');
            }
        }

        function loadFromLocalStorage() {
            try {
                const savedData = window.localStorage.getItem('portfolioData');
                if (savedData) {
                    const parsed = JSON.parse(savedData);
                    appState.researchPapers = parsed.researchPapers || [];
                    appState.books = parsed.books || [];
                    appState.projects = parsed.projects || [];
                    appState.photos = parsed.photos || [];
                    appState.teaching = parsed.teaching || [];
                    appState.students = parsed.students || [];
                    appState.profile = parsed.profile || appState.profile;
                    appState.contactMessages = parsed.contactMessages || [];
                    appState.visitorCount = parsed.visitorCount || 0;
                }
            } catch (e) {
                console.log('Could not load saved data');
            }
        }
        
        function incrementVisitorCount() {
            const hasVisited = sessionStorage.getItem('hasVisited');
            if (!hasVisited) {
                appState.visitorCount++;
                sessionStorage.setItem('hasVisited', 'true');
                saveToLocalStorage();
            }
            updateVisitorCount();
        }
        
        function updateVisitorCount() {
            const countElement = document.getElementById('visitorCount');
            if (countElement) {
                countElement.textContent = appState.visitorCount.toLocaleString();
            }
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved data first
            loadFromLocalStorage();
            
            // Increment visitor count
            incrementVisitorCount();
            
            // Setup floating WhatsApp button
            updateFloatingWhatsapp();
            
            // Event listeners
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('contactForm').addEventListener('submit', handleContactSubmit);
            document.getElementById('paperForm').addEventListener('submit', handlePaperSubmit);
            document.getElementById('bookForm').addEventListener('submit', handleBookSubmit);
            document.getElementById('projectForm').addEventListener('submit', handleProjectSubmit);
            document.getElementById('photoForm').addEventListener('submit', handlePhotoSubmit);
            document.getElementById('teachingForm').addEventListener('submit', handleTeachingSubmit);
            document.getElementById('studentForm').addEventListener('submit', handleStudentSubmit);
            
            // Photo file preview
            document.getElementById('photoFile').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        document.getElementById('photoPreviewImage').src = event.target.result;
                        document.getElementById('photoPreview').classList.remove('hidden');
                    };
                    reader.readAsDataURL(file);
                }
            });
            document.getElementById('profileForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveProfile();
            });

            // Load initial portfolio data with saved content
            updatePortfolioView();
        });

        // Portfolio View Update
        function updatePortfolioView() {
            const profile = appState.profile;
            
            // Update profile photo
            const defaultPhoto = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAEAAQADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD/AH';
            document.getElementById('heroImage').src = profile.photoUrl || defaultPhoto;
            
            // Update profile information
            document.getElementById('heroName').textContent = profile.name;
            document.getElementById('navName').textContent = profile.name;
            document.getElementById('footerName').textContent = profile.name;
            document.getElementById('heroTitle').textContent = profile.title;
            document.getElementById('heroInstitution').textContent = profile.institution;
            document.getElementById('aboutBio').textContent = profile.bio;
            document.getElementById('contactEmail').textContent = profile.email;
            document.getElementById('contactPhone').textContent = profile.phone;
            document.getElementById('contactAddress').innerHTML = profile.address.replace(/\n/g, '<br>');
            
            // Update social media links
            const social = profile.socialMedia || {};
            document.getElementById('linkedinLink').href = social.linkedin || '#';
            document.getElementById('twitterLink').href = social.twitter || '#';
            document.getElementById('githubLink').href = social.github || '#';
            document.getElementById('researchgateLink').href = social.researchgate || '#';
            document.getElementById('googleScholarLink').href = social.googleScholar || '#';
            document.getElementById('orcidLink').href = social.orcid || '#';
            document.getElementById('facebookLink').href = social.facebook || '#';
            document.getElementById('instagramLink').href = social.instagram || '#';
            document.getElementById('whatsappLink').href = social.whatsapp || '#';
            
            // Update counts
            document.getElementById('paperCountDisplay').textContent = appState.researchPapers.length;
            document.getElementById('bookCountDisplay').textContent = appState.books.length;
            document.getElementById('projectCountDisplay').textContent = appState.projects.length;
            document.getElementById('papersCount').textContent = appState.researchPapers.length + '+';
            document.getElementById('booksCount').textContent = appState.books.length + '+';
            
            // Update recent items
            updateRecentPapers();
            updateRecentBooks();
            updateRecentProjects();
            
            // Update full sections
            renderPublicPapers();
            renderPublicBooks();
            renderPublicProjects();
            renderPublicPhotos();
            renderPublicTeaching();
            renderPublicStudents();
        }

        function updateRecentPapers() {
            const container = document.getElementById('recentPapers');
            container.innerHTML = '';
        }

        function updateRecentBooks() {
            const container = document.getElementById('recentBooks');
            container.innerHTML = '';
        }

        function updateRecentProjects() {
            const container = document.getElementById('recentProjects');
            container.innerHTML = '';
        }

        // Public Portfolio Rendering
        function renderPublicPapers() {
            const container = document.getElementById('papersGrid');
            if (!container) return;
            container.innerHTML = '';
            
            if (appState.researchPapers.length === 0) {
                container.innerHTML = '<p class="text-gray-400 text-center py-8 col-span-3">No research papers available yet.</p>';
                return;
            }
            
            appState.researchPapers.forEach(paper => {
                const div = document.createElement('div');
                div.className = 'portfolio-card rounded-lg p-6 card-hover transition-all duration-300 cursor-pointer';
                div.onclick = () => showPaperDetail(paper.id);
                div.innerHTML = `
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold portfolio-text mb-2">${paper.title}</h3>
                            <p class="text-sm text-gray-400 mb-2">${paper.authors}</p>
                            ${paper.journal ? `<p class="text-xs text-gray-500 mb-1"><span class="font-medium">Journal:</span> ${paper.journal}</p>` : ''}
                            ${paper.year ? `<p class="text-xs text-gray-500"><span class="font-medium">Year:</span> ${paper.year}</p>` : ''}
                        </div>
                        <svg class="w-5 h-5 text-blue-400 flex-shrink-0 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                    </div>
                    ${paper.abstract ? `<p class="text-sm text-gray-300 line-clamp-3 mb-3">${paper.abstract}</p>` : ''}
                    <div class="flex items-center justify-between pt-3 border-t border-gray-700">
                        <span class="text-xs text-blue-400 hover:text-blue-300">View Details →</span>
                        ${paper.doi ? `<span class="text-xs text-gray-500">DOI: ${paper.doi}</span>` : ''}
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function renderPublicBooks() {
            const container = document.getElementById('booksGrid');
            if (!container) return;
            container.innerHTML = '';
            
            if (appState.books.length === 0) {
                container.innerHTML = '<p class="text-gray-400 text-center py-8 col-span-3">No books available yet.</p>';
                return;
            }
            
            appState.books.forEach(book => {
                const div = document.createElement('div');
                div.className = 'portfolio-card rounded-lg overflow-hidden card-hover transition-all duration-300 cursor-pointer';
                div.onclick = () => showBookDetail(book.id);
                const coverImage = book.coverPhoto || 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="300" viewBox="0 0 200 300"%3E%3Crect fill="%231E293B" width="200" height="300"/%3E%3Ctext x="50%25" y="50%25" font-family="Arial" font-size="20" fill="%23F8FAFC" text-anchor="middle" dominant-baseline="middle"%3EBook Cover%3C/text%3E%3C/svg%3E';
                div.innerHTML = `
                    <img src="${coverImage}" alt="${book.title}" class="w-full h-64 object-cover" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'200\\' height=\\'300\\' viewBox=\\'0 0 200 300\\'%3E%3Crect fill=\\'%231E293B\\' width=\\'200\\' height=\\'300\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' font-family=\\'Arial\\' font-size=\\'20\\' fill=\\'%23F8FAFC\\' text-anchor=\\'middle\\' dominant-baseline=\\'middle\\'%3EBook Cover%3C/text%3E%3C/svg%3E'">
                    <div class="p-6">
                        <h3 class="text-lg font-semibold portfolio-text mb-2">${book.title}</h3>
                        <p class="text-sm text-gray-400 mb-2">${book.authors}</p>
                        ${book.publisher ? `<p class="text-xs text-gray-500 mb-1"><span class="font-medium">Publisher:</span> ${book.publisher}</p>` : ''}
                        ${book.year ? `<p class="text-xs text-gray-500 mb-3"><span class="font-medium">Year:</span> ${book.year}</p>` : ''}
                        ${book.description ? `<p class="text-sm text-gray-300 line-clamp-2 mb-3">${book.description}</p>` : ''}
                        <div class="flex items-center justify-between pt-3 border-t border-gray-700">
                            <span class="text-xs text-orange-400 hover:text-orange-300">View Details →</span>
                            ${book.isbn ? `<span class="text-xs text-gray-500">ISBN: ${book.isbn}</span>` : ''}
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function renderPublicProjects() {
            const container = document.getElementById('projectsGrid');
            if (!container) return;
            container.innerHTML = '';
            
            if (appState.projects.length === 0) {
                container.innerHTML = '<p class="text-gray-400 text-center py-8 col-span-2">No projects available yet.</p>';
                return;
            }
            
            appState.projects.forEach(project => {
                const statusClass = project.status === 'Completed' ? 'bg-green-500' : 
                                  project.status === 'In Progress' ? 'bg-blue-500' : 'bg-yellow-500';
                const div = document.createElement('div');
                div.className = 'portfolio-card rounded-lg p-6 card-hover transition-all duration-300 cursor-pointer';
                div.onclick = () => showProjectDetail(project.id);
                div.innerHTML = `
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold portfolio-text mb-2">${project.title}</h3>
                            <p class="text-xs text-gray-400 mb-2">${project.type}</p>
                        </div>
                        <span class="${statusClass} text-white text-xs px-3 py-1 rounded-full flex-shrink-0">${project.status}</span>
                    </div>
                    ${project.description ? `<p class="text-sm text-gray-300 mb-3">${project.description}</p>` : ''}
                    ${project.technologies ? `
                        <div class="mb-3">
                            <p class="text-xs text-gray-500 mb-2"><span class="font-medium">Technologies:</span></p>
                            <div class="flex flex-wrap gap-2">
                                ${project.technologies.split(',').map(tech => `<span class="text-xs bg-gray-700 text-gray-300 px-2 py-1 rounded">${tech.trim()}</span>`).join('')}
                            </div>
                        </div>
                    ` : ''}
                    <div class="flex items-center justify-between pt-3 border-t border-gray-700">
                        <span class="text-xs text-green-400 hover:text-green-300">View Details →</span>
                        ${project.link ? `<svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>` : ''}
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // Detail Modal Functions
        function showPaperDetail(id) {
            const paper = appState.researchPapers.find(p => p.id === id);
            if (!paper) return;
            
            document.getElementById('detailModalTitle').textContent = paper.title;
            const content = document.getElementById('detailModalContent');
            content.innerHTML = `
                <div class="space-y-6">
                    <div>
                        <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Authors</h4>
                        <p class="text-gray-200">${paper.authors}</p>
                    </div>
                    ${paper.journal ? `
                        <div>
                            <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Journal/Conference</h4>
                            <p class="text-gray-200">${paper.journal}</p>
                        </div>
                    ` : ''}
                    ${paper.year ? `
                        <div>
                            <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Publication Year</h4>
                            <p class="text-gray-200">${paper.year}</p>
                        </div>
                    ` : ''}
                    ${paper.doi ? `
                        <div>
                            <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">DOI</h4>
                            <p class="text-blue-400">${paper.doi}</p>
                        </div>
                    ` : ''}
                    ${paper.abstract ? `
                        <div>
                            <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Abstract</h4>
                            <p class="text-gray-300 leading-relaxed">${paper.abstract}</p>
                        </div>
                    ` : ''}
                    ${paper.link ? `
                        <div class="pt-4 border-t border-gray-700">
                            <a href="${paper.link}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 btn-transition">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                </svg>
                                Read Full Paper
                            </a>
                        </div>
                    ` : ''}
                </div>
            `;
            document.getElementById('detailModal').classList.remove('hidden');
        }

        function showBookDetail(id) {
            const book = appState.books.find(b => b.id === id);
            if (!book) return;
            
            document.getElementById('detailModalTitle').textContent = book.title;
            const content = document.getElementById('detailModalContent');
            const coverImage = book.coverPhoto || 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="300" viewBox="0 0 200 300"%3E%3Crect fill="%231E293B" width="200" height="300"/%3E%3Ctext x="50%25" y="50%25" font-family="Arial" font-size="20" fill="%23F8FAFC" text-anchor="middle" dominant-baseline="middle"%3EBook Cover%3C/text%3E%3C/svg%3E';
            content.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="md:col-span-1">
                        <img src="${coverImage}" alt="${book.title}" class="w-full rounded-lg shadow-lg" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'200\\' height=\\'300\\' viewBox=\\'0 0 200 300\\'%3E%3Crect fill=\\'%231E293B\\' width=\\'200\\' height=\\'300\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' font-family=\\'Arial\\' font-size=\\'20\\' fill=\\'%23F8FAFC\\' text-anchor=\\'middle\\' dominant-baseline=\\'middle\\'%3EBook Cover%3C/text%3E%3C/svg%3E'">
                    </div>
                    <div class="md:col-span-2 space-y-6">
                        <div>
                            <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Authors</h4>
                            <p class="text-gray-200">${book.authors}</p>
                        </div>
                        ${book.publisher ? `
                            <div>
                                <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Publisher</h4>
                                <p class="text-gray-200">${book.publisher}</p>
                            </div>
                        ` : ''}
                        ${book.year ? `
                            <div>
                                <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Publication Year</h4>
                                <p class="text-gray-200">${book.year}</p>
                            </div>
                        ` : ''}
                        ${book.isbn ? `
                            <div>
                                <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">ISBN</h4>
                                <p class="text-gray-200">${book.isbn}</p>
                            </div>
                        ` : ''}
                        ${book.description ? `
                            <div>
                                <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Description</h4>
                                <p class="text-gray-300 leading-relaxed">${book.description}</p>
                            </div>
                        ` : ''}
                        ${book.purchaseLink ? `
                            <div class="pt-4 border-t border-gray-700">
                                <a href="${book.purchaseLink}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center bg-orange-600 text-white px-6 py-3 rounded-md hover:bg-orange-700 btn-transition">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                    </svg>
                                    Purchase Book
                                </a>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
            document.getElementById('detailModal').classList.remove('hidden');
        }

        function showProjectDetail(id) {
            const project = appState.projects.find(p => p.id === id);
            if (!project) return;
            
            document.getElementById('detailModalTitle').textContent = project.title;
            const content = document.getElementById('detailModalContent');
            const statusClass = project.status === 'Completed' ? 'bg-green-500' : 
                              project.status === 'In Progress' ? 'bg-blue-500' : 'bg-yellow-500';
            content.innerHTML = `
                <div class="space-y-6">
                    <div class="flex items-center space-x-4">
                        <div>
                            <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Project Type</h4>
                            <p class="text-gray-200">${project.type}</p>
                        </div>
                        <div>
                            <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Status</h4>
                            <span class="${statusClass} text-white text-sm px-4 py-1 rounded-full">${project.status}</span>
                        </div>
                    </div>
                    ${project.description ? `
                        <div>
                            <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Description</h4>
                            <p class="text-gray-300 leading-relaxed">${project.description}</p>
                        </div>
                    ` : ''}
                    ${project.technologies ? `
                        <div>
                            <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Technologies Used</h4>
                            <div class="flex flex-wrap gap-2">
                                ${project.technologies.split(',').map(tech => `<span class="bg-gray-700 text-gray-300 px-3 py-1 rounded-full text-sm">${tech.trim()}</span>`).join('')}
                            </div>
                        </div>
                    ` : ''}
                    ${project.link ? `
                        <div class="pt-4 border-t border-gray-700">
                            <a href="${project.link}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 btn-transition">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                </svg>
                                View Project
                            </a>
                        </div>
                    ` : ''}
                </div>
            `;
            document.getElementById('detailModal').classList.remove('hidden');
        }

        function closeDetailModal() {
            document.getElementById('detailModal').classList.add('hidden');
        }

        // Authentication
        function handleLogin(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const errorElement = document.getElementById('loginError');
            
            errorElement.classList.add('hidden');
            
            if (username === 'admin' && password === 'krishna2025') {
                appState.isLoggedIn = true;
                appState.currentUser = username;
                closeLoginModal();
                showAdminView();
            } else {
                errorElement.textContent = 'Invalid username or password';
                errorElement.classList.remove('hidden');
            }
        }

        function logout() {
            appState.isLoggedIn = false;
            appState.currentUser = null;
            showPortfolioView();
            document.getElementById('loginForm').reset();
        }

        // View Management
        function showPortfolioView() {
            appState.currentView = 'portfolio';
            document.getElementById('portfolioView').classList.remove('hidden');
            document.getElementById('dashboard').classList.add('hidden');
            updatePortfolioView();
        }

        function showAdminView() {
            appState.currentView = 'admin';
            document.getElementById('portfolioView').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            showSection('papers');
        }

        function returnToPortfolio() {
            if (confirm('Return to public portfolio view?')) {
                logout();
            }
        }

        // Modal Functions
        function showLoginModal() {
            document.getElementById('loginModal').classList.remove('hidden');
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('loginForm').reset();
            document.getElementById('loginError').classList.add('hidden');
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // Show sections when menu links are clicked
        function showPortfolioSection(sectionId) {
            // Hide all portfolio sections first
            document.getElementById('papers').classList.add('hidden');
            document.getElementById('books').classList.add('hidden');
            document.getElementById('projects').classList.add('hidden');
            document.getElementById('teaching').classList.add('hidden');
            document.getElementById('students').classList.add('hidden');
            
            // Show the clicked section
            document.getElementById(sectionId).classList.remove('hidden');
            
            // Close mobile menu if open
            document.getElementById('mobileMenu').classList.add('hidden');
            
            // Scroll to top of page first, then to section
            window.scrollTo({ top: 0, behavior: 'smooth' });
            setTimeout(() => {
                const navHeight = document.querySelector('nav').offsetHeight;
                const sectionElement = document.getElementById(sectionId);
                const sectionTop = sectionElement.offsetTop - navHeight - 20;
                window.scrollTo({ top: sectionTop, behavior: 'smooth' });
            }, 300);
        }

        // Section Navigation
        function showSection(sectionName) {
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.add('hidden');
            });
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-gray-700');
            });
            
            const sectionMap = {
                papers: { element: 'papersSection', title: 'Research Papers' },
                books: { element: 'booksSection', title: 'Books' },
                projects: { element: 'projectsSection', title: 'Projects' },
                gallery: { element: 'gallerySection', title: 'Photo Gallery' },
                teaching: { element: 'teachingSection', title: 'Teaching' },
                students: { element: 'studentsSection', title: 'Students' },
                profile: { element: 'profileSection', title: 'Profile' },
                messages: { element: 'messagesSection', title: 'Messages' }
            };
            
            const section = sectionMap[sectionName];
            if (section) {
                document.getElementById(section.element).classList.remove('hidden');
                document.getElementById('pageTitle').textContent = section.title;
                event.target.classList.add('bg-gray-700');
                
                switch(sectionName) {
                    case 'papers':
                        renderPapers();
                        break;
                    case 'books':
                        renderBooks();
                        break;
                    case 'projects':
                        renderProjects();
                        break;
                    case 'gallery':
                        renderPhotos();
                        break;
                    case 'teaching':
                        renderTeaching();
                        break;
                    case 'students':
                        renderStudents();
                        break;
                    case 'profile':
                        loadProfile();
                        break;
                    case 'messages':
                        renderMessages();
                        break;
                }
            }
        }

        // Research Papers Management
        function renderPapers() {
            const container = document.getElementById('papersList');
            container.innerHTML = '';
            
            if (appState.researchPapers.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">No research papers added yet.</p>';
                return;
            }
            
            appState.researchPapers.forEach(paper => {
                const div = document.createElement('div');
                div.className = 'bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all';
                div.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <h3 class="font-semibold text-admin-text mb-2">${paper.title}</h3>
                            <p class="text-sm text-admin-secondary mb-2">${paper.authors}</p>
                            ${paper.journal ? `<p class="text-xs text-gray-500 mb-1">${paper.journal}</p>` : ''}
                            ${paper.year ? `<p class="text-xs text-gray-500">Year: ${paper.year}</p>` : ''}
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="editPaper(${paper.id})" class="text-blue-600 hover:text-blue-800 p-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                                </svg>
                            </button>
                            <button onclick="deletePaper(${paper.id})" class="text-red-600 hover:text-red-800 p-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function showAddPaperModal() {
            document.getElementById('paperModalTitle').textContent = 'Add New Research Paper';
            document.getElementById('paperForm').reset();
            document.getElementById('paperEditId').value = '';
            document.getElementById('paperModal').classList.remove('hidden');
        }

        function closePaperModal() {
            document.getElementById('paperModal').classList.add('hidden');
        }

        function editPaper(id) {
            const paper = appState.researchPapers.find(p => p.id === id);
            if (paper) {
                document.getElementById('paperModalTitle').textContent = 'Edit Research Paper';
                document.getElementById('paperEditId').value = paper.id;
                document.getElementById('paperTitle').value = paper.title;
                document.getElementById('paperAuthors').value = paper.authors;
                document.getElementById('paperJournal').value = paper.journal || '';
                document.getElementById('paperYear').value = paper.year || '';
                document.getElementById('paperDoi').value = paper.doi || '';
                document.getElementById('paperLink').value = paper.link || '';
                document.getElementById('paperAbstract').value = paper.abstract || '';
                document.getElementById('paperModal').classList.remove('hidden');
            }
        }

        function handlePaperSubmit(e) {
            e.preventDefault();
            const editId = document.getElementById('paperEditId').value;
            const paperData = {
                title: document.getElementById('paperTitle').value,
                authors: document.getElementById('paperAuthors').value,
                journal: document.getElementById('paperJournal').value,
                year: parseInt(document.getElementById('paperYear').value) || null,
                doi: document.getElementById('paperDoi').value,
                link: document.getElementById('paperLink').value,
                abstract: document.getElementById('paperAbstract').value
            };
            
            if (editId) {
                const index = appState.researchPapers.findIndex(p => p.id === parseInt(editId));
                if (index !== -1) {
                    appState.researchPapers[index] = { ...appState.researchPapers[index], ...paperData };
                }
            } else {
                const newPaper = {
                    id: Date.now(),
                    ...paperData,
                    dateAdded: new Date().toISOString()
                };
                appState.researchPapers.unshift(newPaper);
            }
            
            saveToLocalStorage();
            closePaperModal();
            renderPapers();
            updatePortfolioView();
            showNotification('Paper saved successfully!', 'success');
        }

        function deletePaper(id) {
            if (confirm('Are you sure you want to delete this paper?')) {
                appState.researchPapers = appState.researchPapers.filter(p => p.id !== id);
                saveToLocalStorage();
                renderPapers();
                updatePortfolioView();
                showNotification('Paper deleted successfully!', 'success');
            }
        }

        // Books Management
        function renderBooks() {
            const container = document.getElementById('booksList');
            container.innerHTML = '';
            
            if (appState.books.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8 col-span-3">No books added yet.</p>';
                return;
            }
            
            appState.books.forEach(book => {
                const div = document.createElement('div');
                div.className = 'bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-semibold text-admin-text">${book.title}</h3>
                    </div>
                    <p class="text-sm text-admin-secondary mb-2">${book.authors}</p>
                    ${book.publisher ? `<p class="text-xs text-gray-500 mb-1">${book.publisher}</p>` : ''}
                    ${book.year ? `<p class="text-xs text-gray-500 mb-3">Year: ${book.year}</p>` : ''}
                    <div class="flex justify-end space-x-2">
                        <button onclick="editBook(${book.id})" class="text-blue-600 hover:text-blue-800 p-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                            </svg>
                        </button>
                        <button onclick="deleteBook(${book.id})" class="text-red-600 hover:text-red-800 p-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                        </button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function showAddBookModal() {
            document.getElementById('bookModalTitle').textContent = 'Add New Book';
            document.getElementById('bookForm').reset();
            document.getElementById('bookEditId').value = '';
            document.getElementById('bookModal').classList.remove('hidden');
        }

        function closeBookModal() {
            document.getElementById('bookModal').classList.add('hidden');
        }

        function editBook(id) {
            const book = appState.books.find(b => b.id === id);
            if (book) {
                document.getElementById('bookModalTitle').textContent = 'Edit Book';
                document.getElementById('bookEditId').value = book.id;
                document.getElementById('bookTitle').value = book.title;
                document.getElementById('bookAuthors').value = book.authors;
                document.getElementById('bookPublisher').value = book.publisher || '';
                document.getElementById('bookYear').value = book.year || '';
                document.getElementById('bookIsbn').value = book.isbn || '';
                document.getElementById('bookPurchaseLink').value = book.purchaseLink || '';
                document.getElementById('bookCoverPhoto').value = book.coverPhoto || '';
                document.getElementById('bookDescription').value = book.description || '';
                document.getElementById('bookModal').classList.remove('hidden');
            }
        }

        function handleBookSubmit(e) {
            e.preventDefault();
            const editId = document.getElementById('bookEditId').value;
            const bookData = {
                title: document.getElementById('bookTitle').value,
                authors: document.getElementById('bookAuthors').value,
                publisher: document.getElementById('bookPublisher').value,
                year: parseInt(document.getElementById('bookYear').value) || null,
                isbn: document.getElementById('bookIsbn').value,
                purchaseLink: document.getElementById('bookPurchaseLink').value,
                coverPhoto: document.getElementById('bookCoverPhoto').value,
                description: document.getElementById('bookDescription').value
            };
            
            if (editId) {
                const index = appState.books.findIndex(b => b.id === parseInt(editId));
                if (index !== -1) {
                    appState.books[index] = { ...appState.books[index], ...bookData };
                }
            } else {
                const newBook = {
                    id: Date.now(),
                    ...bookData,
                    dateAdded: new Date().toISOString()
                };
                appState.books.unshift(newBook);
            }
            
            saveToLocalStorage();
            closeBookModal();
            renderBooks();
            updatePortfolioView();
            showNotification('Book saved successfully!', 'success');
        }

        function deleteBook(id) {
            if (confirm('Are you sure you want to delete this book?')) {
                appState.books = appState.books.filter(b => b.id !== id);
                saveToLocalStorage();
                renderBooks();
                updatePortfolioView();
                showNotification('Book deleted successfully!', 'success');
            }
        }

        // Projects Management
        function renderProjects() {
            const container = document.getElementById('projectsList');
            container.innerHTML = '';
            
            if (appState.projects.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8 col-span-2">No projects added yet.</p>';
                return;
            }
            
            appState.projects.forEach(project => {
                const statusClass = project.status === 'Completed' ? 'status-completed' : 
                                  project.status === 'In Progress' ? 'status-progress' : 'status-planned';
                const div = document.createElement('div');
                div.className = 'bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <div class="flex-1">
                            <h3 class="font-semibold text-admin-text mb-1">${project.title}</h3>
                            <p class="text-xs text-admin-secondary">${project.type}</p>
                        </div>
                        <span class="status-badge ${statusClass}">${project.status}</span>
                    </div>
                    ${project.description ? `<p class="text-sm text-gray-600 mb-4">${project.description}</p>` : ''}
                    <div class="flex justify-end space-x-2">
                        <button onclick="editProject(${project.id})" class="text-blue-600 hover:text-blue-800 p-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                            </svg>
                        </button>
                        <button onclick="deleteProject(${project.id})" class="text-red-600 hover:text-red-800 p-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                        </button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function showAddProjectModal() {
            document.getElementById('projectModalTitle').textContent = 'Add New Project';
            document.getElementById('projectForm').reset();
            document.getElementById('projectEditId').value = '';
            document.getElementById('projectModal').classList.remove('hidden');
        }

        function closeProjectModal() {
            document.getElementById('projectModal').classList.add('hidden');
        }

        function editProject(id) {
            const project = appState.projects.find(p => p.id === id);
            if (project) {
                document.getElementById('projectModalTitle').textContent = 'Edit Project';
                document.getElementById('projectEditId').value = project.id;
                document.getElementById('projectTitle').value = project.title;
                document.getElementById('projectType').value = project.type;
                document.getElementById('projectStatus').value = project.status;
                document.getElementById('projectDescription').value = project.description || '';
                document.getElementById('projectTechnologies').value = project.technologies || '';
                document.getElementById('projectLink').value = project.link || '';
                document.getElementById('projectModal').classList.remove('hidden');
            }
        }

        function handleProjectSubmit(e) {
            e.preventDefault();
            const editId = document.getElementById('projectEditId').value;
            const projectData = {
                title: document.getElementById('projectTitle').value,
                type: document.getElementById('projectType').value,
                status: document.getElementById('projectStatus').value,
                description: document.getElementById('projectDescription').value,
                technologies: document.getElementById('projectTechnologies').value,
                link: document.getElementById('projectLink').value
            };
            
            if (editId) {
                const index = appState.projects.findIndex(p => p.id === parseInt(editId));
                if (index !== -1) {
                    appState.projects[index] = { ...appState.projects[index], ...projectData };
                }
            } else {
                const newProject = {
                    id: Date.now(),
                    ...projectData,
                    dateAdded: new Date().toISOString()
                };
                appState.projects.unshift(newProject);
            }
            
            saveToLocalStorage();
            closeProjectModal();
            renderProjects();
            updatePortfolioView();
            showNotification('Project saved successfully!', 'success');
        }

        function deleteProject(id) {
            if (confirm('Are you sure you want to delete this project?')) {
                appState.projects = appState.projects.filter(p => p.id !== id);
                saveToLocalStorage();
                renderProjects();
                updatePortfolioView();
                showNotification('Project deleted successfully!', 'success');
            }
        }

        // Update floating WhatsApp button
        function updateFloatingWhatsapp() {
            const whatsappLink = appState.profile.socialMedia?.whatsapp;
            const floatingBtn = document.getElementById('floatingWhatsapp');
            
            if (whatsappLink && whatsappLink.trim() !== '' && floatingBtn) {
                floatingBtn.href = whatsappLink;
                floatingBtn.style.display = 'flex';
                floatingBtn.style.alignItems = 'center';
                floatingBtn.style.justifyContent = 'center';
            } else if (floatingBtn) {
                floatingBtn.style.display = 'none';
            }
        }

        // Profile Management
        function loadProfile() {
            const profile = appState.profile;
            
            // Load profile photo
            if (profile.photoUrl) {
                document.getElementById('profilePhotoPreview').src = profile.photoUrl;
            }
            
            document.getElementById('profileName').value = profile.name;
            document.getElementById('profileTitle').value = profile.title;
            document.getElementById('profileInstitution').value = profile.institution;
            document.getElementById('profileEmail').value = profile.email;
            document.getElementById('profilePhone').value = profile.phone;
            document.getElementById('profileAddress').value = profile.address;
            document.getElementById('profileBio').value = profile.bio;
            
            // Load social media links
            const social = profile.socialMedia || {};
            document.getElementById('profileLinkedin').value = social.linkedin || '';
            document.getElementById('profileTwitter').value = social.twitter || '';
            document.getElementById('profileGithub').value = social.github || '';
            document.getElementById('profileResearchgate').value = social.researchgate || '';
            document.getElementById('profileGoogleScholar').value = social.googleScholar || '';
            document.getElementById('profileOrcid').value = social.orcid || '';
            document.getElementById('profileFacebook').value = social.facebook || '';
            document.getElementById('profileInstagram').value = social.instagram || '';
            document.getElementById('profileWhatsapp').value = social.whatsapp || '';
        }

        function saveProfile() {
            const inputType = document.querySelector('input[name="profilePhotoInputType"]:checked').value;
            
            const saveProfileData = (photoUrl) => {
                const profileData = {
                    photoUrl: photoUrl,
                    name: document.getElementById('profileName').value,
                    title: document.getElementById('profileTitle').value,
                institution: document.getElementById('profileInstitution').value,
                email: document.getElementById('profileEmail').value,
                phone: document.getElementById('profilePhone').value,
                address: document.getElementById('profileAddress').value,
                bio: document.getElementById('profileBio').value,
                socialMedia: {
                    linkedin: document.getElementById('profileLinkedin').value,
                    twitter: document.getElementById('profileTwitter').value,
                    github: document.getElementById('profileGithub').value,
                    researchgate: document.getElementById('profileResearchgate').value,
                    googleScholar: document.getElementById('profileGoogleScholar').value,
                    orcid: document.getElementById('profileOrcid').value,
                    facebook: document.getElementById('profileFacebook').value,
                    instagram: document.getElementById('profileInstagram').value,
                    whatsapp: document.getElementById('profileWhatsapp').value
                }
            };
            
                appState.profile = { ...appState.profile, ...profileData };
                saveToLocalStorage();
                updatePortfolioView();
                updateFloatingWhatsapp();
                showNotification('Profile updated successfully!', 'success');
            };
            
            if (inputType === 'file') {
                const fileInput = document.getElementById('profilePhotoFile');
                const file = fileInput.files[0];
                
                if (file) {
                    // Check file size (max 5MB)
                    if (file.size > 5 * 1024 * 1024) {
                        showNotification('File size must be less than 5MB', 'error');
                        return;
                    }
                    
                    // Check file type
                    if (!file.type.match('image.*')) {
                        showNotification('Please select a valid image file', 'error');
                        return;
                    }
                    
                    // Convert to base64
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        saveProfileData(event.target.result);
                    };
                    reader.onerror = function() {
                        showNotification('Error reading file', 'error');
                    };
                    reader.readAsDataURL(file);
                } else {
                    // No new file, keep existing photo
                    saveProfileData(appState.profile.photoUrl || document.getElementById('profilePhotoPreview').src);
                }
            } else {
                const photoUrl = document.getElementById('profilePhotoUrl').value;
                if (photoUrl) {
                    saveProfileData(photoUrl);
                } else {
                    // No URL provided, keep existing photo
                    saveProfileData(appState.profile.photoUrl || document.getElementById('profilePhotoPreview').src);
                }
            }
        }
        
        function toggleProfilePhotoInput(type) {
            const fileInput = document.getElementById('profilePhotoFileInput');
            const urlInput = document.getElementById('profilePhotoUrlInput');
            
            if (type === 'file') {
                fileInput.classList.remove('hidden');
                urlInput.classList.add('hidden');
            } else {
                fileInput.classList.add('hidden');
                urlInput.classList.remove('hidden');
            }
        }
        
        // Profile photo file preview
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('profilePhotoFile').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        document.getElementById('profilePhotoPreview').src = event.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });
        });

        // Messages Management
        function renderMessages() {
            const container = document.getElementById('messagesList');
            container.innerHTML = '';
            
            if (appState.contactMessages.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">No messages received yet.</p>';
                return;
            }
            
            appState.contactMessages.forEach(message => {
                const div = document.createElement('div');
                const isRead = message.isRead;
                div.className = `bg-white border border-gray-200 rounded-lg p-4 ${!isRead ? 'border-l-4 border-l-blue-500' : ''}`;
                const date = new Date(message.dateReceived).toLocaleString();
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <div class="flex-1">
                            <div class="flex items-center mb-2">
                                <h3 class="font-semibold text-admin-text mr-2">${message.name}</h3>
                                ${!isRead ? '<span class="bg-blue-500 text-white text-xs px-2 py-1 rounded-full">NEW</span>' : ''}
                            </div>
                            <p class="text-sm text-admin-secondary mb-1">${message.email}</p>
                            <p class="text-xs text-gray-500">${date}</p>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="toggleMessageRead(${message.id})" class="text-blue-600 hover:text-blue-800 p-1" title="${isRead ? 'Mark as Unread' : 'Mark as Read'}">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                            <button onclick="deleteMessage(${message.id})" class="text-red-600 hover:text-red-800 p-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    ${message.subject ? `<p class="text-sm font-medium text-admin-text mb-2">Subject: ${message.subject}</p>` : ''}
                    <div class="bg-gray-50 rounded p-3">
                        <p class="text-sm text-gray-700">${message.message}</p>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function toggleMessageRead(id) {
            const message = appState.contactMessages.find(m => m.id === id);
            if (message) {
                message.isRead = !message.isRead;
                saveToLocalStorage();
                renderMessages();
            }
        }

        function deleteMessage(id) {
            if (confirm('Are you sure you want to delete this message?')) {
                appState.contactMessages = appState.contactMessages.filter(m => m.id !== id);
                saveToLocalStorage();
                renderMessages();
                showNotification('Message deleted successfully!', 'success');
            }
        }

        function markAllAsRead() {
            appState.contactMessages.forEach(message => {
                message.isRead = true;
            });
            saveToLocalStorage();
            renderMessages();
            showNotification('All messages marked as read!', 'success');
        }

        function deleteAllMessages() {
            if (confirm('Are you sure you want to delete all messages? This action cannot be undone.')) {
                appState.contactMessages = [];
                saveToLocalStorage();
                renderMessages();
                showNotification('All messages deleted!', 'success');
            }
        }

        // Contact Form
        function handleContactSubmit(e) {
            e.preventDefault();
            const contactData = {
                id: Date.now(),
                name: document.getElementById('contactName').value,
                email: document.getElementById('contactEmailInput').value,
                subject: document.getElementById('contactSubject').value || 'No subject',
                message: document.getElementById('contactMessage').value,
                dateReceived: new Date().toISOString(),
                isRead: false
            };
            
            appState.contactMessages.unshift(contactData);
            saveToLocalStorage();
            document.getElementById('contactForm').reset();
            showNotification('Message sent successfully! I will get back to you soon.', 'success');
        }

        // Export Data
        function exportData() {
            const exportData = {
                researchPapers: appState.researchPapers,
                books: appState.books,
                projects: appState.projects,
                photos: appState.photos,
                teaching: appState.teaching,
                students: appState.students,
                profile: appState.profile,
                exportDate: new Date().toISOString(),
                version: '1.0'
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `portfolio-data-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            showNotification('Data exported successfully!', 'success');
        }

        // Photo Gallery Management
        function renderPhotos() {
            const container = document.getElementById('photosList');
            container.innerHTML = '';
            
            if (appState.photos.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8 col-span-4">No photos added yet.</p>';
                return;
            }
            
            appState.photos.forEach(photo => {
                const div = document.createElement('div');
                div.className = 'relative group overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-all';
                div.innerHTML = `
                    <img src="${photo.url}" alt="${photo.title}" class="w-full h-48 object-cover" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'200\\' height=\\'200\\' viewBox=\\'0 0 200 200\\'%3E%3Crect fill=\\'%23e5e7eb\\' width=\\'200\\' height=\\'200\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' font-family=\\'Arial\\' font-size=\\'14\\' fill=\\'%236b7280\\' text-anchor=\\'middle\\' dominant-baseline=\\'middle\\'%3ENo Image%3C/text%3E%3C/svg%3E'">
                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100">
                        <div class="flex space-x-2">
                            <button onclick="editPhoto(${photo.id})" class="bg-white text-blue-600 p-2 rounded-full hover:bg-blue-50">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                                </svg>
                            </button>
                            <button onclick="deletePhoto(${photo.id})" class="bg-white text-red-600 p-2 rounded-full hover:bg-red-50">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-3">
                        <p class="text-white text-sm font-medium">${photo.title}</p>
                        <p class="text-gray-300 text-xs">${photo.category}</p>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // Slider variables
        let currentSlide = 0;
        let autoSlideInterval;

        function renderPublicPhotos() {
            const container = document.getElementById('photoSlider');
            const dotsContainer = document.getElementById('sliderDots');
            if (!container) return;
            container.innerHTML = '';
            dotsContainer.innerHTML = '';
            
            if (appState.photos.length === 0) {
                container.innerHTML = '<div class="w-full h-full flex items-center justify-center"><p class="text-gray-400 text-center">No photos available yet.</p></div>';
                return;
            }
            
            appState.photos.forEach((photo, index) => {
                const div = document.createElement('div');
                div.className = 'flex-shrink-0 w-full h-full relative group cursor-pointer';
                div.onclick = () => showPhotoDetail(photo);
                div.innerHTML = `
                    <img src="${photo.url}" alt="${photo.title}" class="w-full h-full object-contain bg-gray-900" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'800\\' height=\\'500\\' viewBox=\\'0 0 800 500\\'%3E%3Crect fill=\\'%231E293B\\' width=\\'800\\' height=\\'500\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' font-family=\\'Arial\\' font-size=\\'20\\' fill=\\'%23F8FAFC\\' text-anchor=\\'middle\\' dominant-baseline=\\'middle\\'%3ENo Image%3C/text%3E%3C/svg%3E'">
                    <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all"></div>
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/60 to-transparent p-6">
                        <p class="text-white text-2xl font-bold mb-2">${photo.title}</p>
                        <p class="text-gray-300 text-sm">${photo.category}</p>
                        ${photo.description ? `<p class="text-gray-400 text-sm mt-2">${photo.description}</p>` : ''}
                    </div>
                `;
                container.appendChild(div);
                
                // Create dot indicator
                const dot = document.createElement('button');
                dot.className = `w-3 h-3 rounded-full transition-all ${index === 0 ? 'bg-purple-500 w-8' : 'bg-gray-500'}`;
                dot.onclick = () => goToSlide(index);
                dotsContainer.appendChild(dot);
            });
            
            // Start auto-slide
            startAutoSlide();
        }

        function nextSlide() {
            if (appState.photos.length === 0) return;
            currentSlide = (currentSlide + 1) % appState.photos.length;
            updateSlider();
            resetAutoSlide();
        }

        function prevSlide() {
            if (appState.photos.length === 0) return;
            currentSlide = (currentSlide - 1 + appState.photos.length) % appState.photos.length;
            updateSlider();
            resetAutoSlide();
        }

        function goToSlide(index) {
            currentSlide = index;
            updateSlider();
            resetAutoSlide();
        }

        function updateSlider() {
            const slider = document.getElementById('photoSlider');
            const dots = document.getElementById('sliderDots').children;
            
            if (slider) {
                slider.style.transform = `translateX(-${currentSlide * 100}%)`;
            }
            
            // Update dots
            Array.from(dots).forEach((dot, index) => {
                if (index === currentSlide) {
                    dot.className = 'w-8 h-3 rounded-full transition-all bg-purple-500';
                } else {
                    dot.className = 'w-3 h-3 rounded-full transition-all bg-gray-500';
                }
            });
        }

        function startAutoSlide() {
            if (appState.photos.length > 1) {
                autoSlideInterval = setInterval(() => {
                    nextSlide();
                }, 5000); // Change slide every 5 seconds
            }
        }

        function resetAutoSlide() {
            clearInterval(autoSlideInterval);
            startAutoSlide();
        }

        // Stop auto-slide when user hovers over gallery
        document.addEventListener('DOMContentLoaded', function() {
            const gallerySection = document.getElementById('gallery');
            if (gallerySection) {
                gallerySection.addEventListener('mouseenter', () => {
                    clearInterval(autoSlideInterval);
                });
                gallerySection.addEventListener('mouseleave', () => {
                    startAutoSlide();
                });
            }
        });

        function showPhotoDetail(photo) {
            document.getElementById('detailModalTitle').textContent = photo.title;
            const content = document.getElementById('detailModalContent');
            content.innerHTML = `
                <div class="space-y-6">
                    <img src="${photo.url}" alt="${photo.title}" class="w-full rounded-lg shadow-lg" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'400\\' height=\\'300\\' viewBox=\\'0 0 400 300\\'%3E%3Crect fill=\\'%231E293B\\' width=\\'400\\' height=\\'300\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' font-family=\\'Arial\\' font-size=\\'20\\' fill=\\'%23F8FAFC\\' text-anchor=\\'middle\\' dominant-baseline=\\'middle\\'%3ENo Image%3C/text%3E%3C/svg%3E'">
                    <div>
                        <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Category</h4>
                        <p class="text-gray-200">${photo.category}</p>
                    </div>
                    ${photo.description ? `
                        <div>
                            <h4 class="text-sm font-semibold text-gray-400 uppercase mb-2">Description</h4>
                            <p class="text-gray-300 leading-relaxed">${photo.description}</p>
                        </div>
                    ` : ''}
                </div>
            `;
            document.getElementById('detailModal').classList.remove('hidden');
        }

        function showAddPhotoModal() {
            document.getElementById('photoModalTitle').textContent = 'Add New Photo';
            document.getElementById('photoForm').reset();
            document.getElementById('photoEditId').value = '';
            document.getElementById('photoModal').classList.remove('hidden');
        }

        function closePhotoModal() {
            document.getElementById('photoModal').classList.add('hidden');
        }

        function togglePhotoInput(type) {
            const fileInput = document.getElementById('photoFileInput');
            const urlInput = document.getElementById('photoUrlInput');
            const preview = document.getElementById('photoPreview');
            
            if (type === 'file') {
                fileInput.classList.remove('hidden');
                urlInput.classList.add('hidden');
            } else {
                fileInput.classList.add('hidden');
                urlInput.classList.remove('hidden');
                preview.classList.add('hidden');
            }
        }

        function editPhoto(id) {
            const photo = appState.photos.find(p => p.id === id);
            if (photo) {
                document.getElementById('photoModalTitle').textContent = 'Edit Photo';
                document.getElementById('photoEditId').value = photo.id;
                document.getElementById('photoTitle').value = photo.title;
                document.getElementById('photoUrl').value = photo.url;
                document.getElementById('photoDescription').value = photo.description || '';
                document.getElementById('photoCategory').value = photo.category;
                
                // Set URL input mode for editing
                document.querySelector('input[name="photoInputType"][value="url"]').checked = true;
                togglePhotoInput('url');
                
                document.getElementById('photoModal').classList.remove('hidden');
            }
        }

        function handlePhotoSubmit(e) {
            e.preventDefault();
            const editId = document.getElementById('photoEditId').value;
            const inputType = document.querySelector('input[name="photoInputType"]:checked').value;
            
            const processPhoto = (photoUrl) => {
                const photoData = {
                    title: document.getElementById('photoTitle').value,
                    url: photoUrl,
                    description: document.getElementById('photoDescription').value,
                    category: document.getElementById('photoCategory').value
                };
                
                if (editId) {
                    const index = appState.photos.findIndex(p => p.id === parseInt(editId));
                    if (index !== -1) {
                        appState.photos[index] = { ...appState.photos[index], ...photoData };
                    }
                } else {
                    const newPhoto = {
                        id: Date.now(),
                        ...photoData,
                        dateAdded: new Date().toISOString()
                    };
                    appState.photos.unshift(newPhoto);
                }
                
                saveToLocalStorage();
                closePhotoModal();
                renderPhotos();
                updatePortfolioView();
                showNotification('Photo saved successfully!', 'success');
            };
            
            if (inputType === 'file') {
                const fileInput = document.getElementById('photoFile');
                const file = fileInput.files[0];
                
                if (!file) {
                    showNotification('Please select a photo file', 'error');
                    return;
                }
                
                // Check file size (max 5MB)
                if (file.size > 5 * 1024 * 1024) {
                    showNotification('File size must be less than 5MB', 'error');
                    return;
                }
                
                // Check file type
                if (!file.type.match('image.*')) {
                    showNotification('Please select a valid image file', 'error');
                    return;
                }
                
                // Convert to base64
                const reader = new FileReader();
                reader.onload = function(event) {
                    processPhoto(event.target.result);
                };
                reader.onerror = function() {
                    showNotification('Error reading file', 'error');
                };
                reader.readAsDataURL(file);
            } else {
                const photoUrl = document.getElementById('photoUrl').value;
                if (!photoUrl) {
                    showNotification('Please enter a photo URL', 'error');
                    return;
                }
                processPhoto(photoUrl);
            }
        }

        function deletePhoto(id) {
            if (confirm('Are you sure you want to delete this photo?')) {
                appState.photos = appState.photos.filter(p => p.id !== id);
                saveToLocalStorage();
                renderPhotos();
                updatePortfolioView();
                showNotification('Photo deleted successfully!', 'success');
            }
        }

        // Teaching Management
        function renderPublicTeaching() {
            const container = document.getElementById('teachingGrid');
            if (!container) return;
            container.innerHTML = '';
            
            if (appState.teaching.length === 0) {
                container.innerHTML = '<p class="text-gray-400 text-center py-8 col-span-3">No teaching subjects available yet.</p>';
                return;
            }
            
            appState.teaching.forEach(subject => {
                const div = document.createElement('div');
                div.className = 'portfolio-card rounded-lg p-6 card-hover transition-all duration-300';
                div.innerHTML = `
                    <div class="mb-4">
                        <h3 class="text-xl font-semibold portfolio-text mb-2">${subject.subject}</h3>
                        ${subject.code ? `<p class="text-sm text-gray-400 mb-1">Course Code: ${subject.code}</p>` : ''}
                        <div class="flex items-center space-x-4 text-xs text-gray-500 mt-2">
                            ${subject.level ? `<span class="bg-teal-500 bg-opacity-20 text-teal-400 px-3 py-1 rounded-full">${subject.level}</span>` : ''}
                            ${subject.semester ? `<span>${subject.semester}</span>` : ''}
                        </div>
                    </div>
                    ${subject.description ? `<p class="text-sm text-gray-300 line-clamp-3">${subject.description}</p>` : ''}
                    ${subject.date ? `<p class="text-xs text-gray-500 mt-3">Started: ${new Date(subject.date).toLocaleDateString()}</p>` : ''}
                    ${subject.notesUrl ? `
                        <div class="mt-4">
                            <a href="${subject.notesUrl}" download="${subject.notesFileName || 'notes'}" class="inline-flex items-center bg-teal-600 text-white px-4 py-2 rounded-md hover:bg-teal-700 transition-all text-sm">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                Download Notes
                            </a>
                        </div>
                    ` : ''}
                `;
                container.appendChild(div);
            });
        }

        function renderTeaching() {
            const container = document.getElementById('teachingList');
            container.innerHTML = '';
            
            if (appState.teaching.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8 col-span-3">No teaching subjects added yet.</p>';
                return;
            }
            
            appState.teaching.forEach(subject => {
                const div = document.createElement('div');
                div.className = 'bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <div class="flex-1">
                            <h3 class="font-semibold text-admin-text mb-1">${subject.subject}</h3>
                            ${subject.code ? `<p class="text-xs text-admin-secondary">${subject.code}</p>` : ''}
                        </div>
                        <span class="text-xs bg-teal-100 text-teal-800 px-2 py-1 rounded">${subject.level}</span>
                    </div>
                    ${subject.semester ? `<p class="text-sm text-gray-600 mb-2">${subject.semester}</p>` : ''}
                    ${subject.notesUrl ? `
                        <div class="mb-3">
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded inline-flex items-center">
                                <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                Notes Available
                            </span>
                        </div>
                    ` : ''}
                    <div class="flex justify-end space-x-2 mt-4">
                        <button onclick="editTeaching(${subject.id})" class="text-blue-600 hover:text-blue-800 p-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                            </svg>
                        </button>
                        <button onclick="deleteTeaching(${subject.id})" class="text-red-600 hover:text-red-800 p-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                        </button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function showAddTeachingModal() {
            document.getElementById('teachingModalTitle').textContent = 'Add Teaching Subject';
            document.getElementById('teachingForm').reset();
            document.getElementById('teachingEditId').value = '';
            document.getElementById('teachingModal').classList.remove('hidden');
        }

        function closeTeachingModal() {
            document.getElementById('teachingModal').classList.add('hidden');
        }

        function editTeaching(id) {
            const subject = appState.teaching.find(t => t.id === id);
            if (subject) {
                document.getElementById('teachingModalTitle').textContent = 'Edit Teaching Subject';
                document.getElementById('teachingEditId').value = subject.id;
                document.getElementById('teachingSubject').value = subject.subject;
                document.getElementById('teachingCode').value = subject.code || '';
                document.getElementById('teachingLevel').value = subject.level;
                document.getElementById('teachingSemester').value = subject.semester || '';
                document.getElementById('teachingDate').value = subject.date || '';
                document.getElementById('teachingDescription').value = subject.description || '';
                // Note: File input cannot be pre-filled for security reasons
                document.getElementById('teachingModal').classList.remove('hidden');
            }
        }

        function handleTeachingSubmit(e) {
            e.preventDefault();
            const editId = document.getElementById('teachingEditId').value;
            const fileInput = document.getElementById('teachingNotesFile');
            const file = fileInput.files[0];
            
            const saveTeachingData = (notesUrl, notesFileName) => {
                const teachingData = {
                    subject: document.getElementById('teachingSubject').value,
                    code: document.getElementById('teachingCode').value,
                    level: document.getElementById('teachingLevel').value,
                    semester: document.getElementById('teachingSemester').value,
                    date: document.getElementById('teachingDate').value,
                    description: document.getElementById('teachingDescription').value
                };
                
                if (notesUrl) {
                    teachingData.notesUrl = notesUrl;
                    teachingData.notesFileName = notesFileName;
                }
                
                if (editId) {
                    const index = appState.teaching.findIndex(t => t.id === parseInt(editId));
                    if (index !== -1) {
                        const existing = appState.teaching[index];
                        appState.teaching[index] = { 
                            ...existing, 
                            ...teachingData,
                            notesUrl: notesUrl || existing.notesUrl,
                            notesFileName: notesFileName || existing.notesFileName
                        };
                    }
                } else {
                    const newTeaching = {
                        id: Date.now(),
                        ...teachingData,
                        dateAdded: new Date().toISOString()
                    };
                    appState.teaching.unshift(newTeaching);
                }
                
                saveToLocalStorage();
                closeTeachingModal();
                renderTeaching();
                updatePortfolioView();
                showNotification('Teaching subject saved successfully!', 'success');
            };
            
            if (file) {
                // Check file size (max 10MB)
                if (file.size > 10 * 1024 * 1024) {
                    showNotification('File size must be less than 10MB', 'error');
                    return;
                }
                
                // Check file type
                const allowedTypes = [
                    'application/pdf',
                    'application/msword',
                    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                    'application/vnd.ms-powerpoint',
                    'application/vnd.openxmlformats-officedocument.presentationml.presentation'
                ];
                
                if (!allowedTypes.includes(file.type)) {
                    showNotification('Please select a valid document file (PDF, DOC, DOCX, PPT, PPTX)', 'error');
                    return;
                }
                
                // Convert to base64
                const reader = new FileReader();
                reader.onload = function(event) {
                    saveTeachingData(event.target.result, file.name);
                };
                reader.onerror = function() {
                    showNotification('Error reading file', 'error');
                };
                reader.readAsDataURL(file);
            } else {
                // No new file uploaded
                if (editId) {
                    const existing = appState.teaching.find(t => t.id === parseInt(editId));
                    saveTeachingData(existing?.notesUrl, existing?.notesFileName);
                } else {
                    saveTeachingData(null, null);
                }
            }
        }

        function deleteTeaching(id) {
            if (confirm('Are you sure you want to delete this teaching subject?')) {
                appState.teaching = appState.teaching.filter(t => t.id !== id);
                saveToLocalStorage();
                renderTeaching();
                updatePortfolioView();
                showNotification('Teaching subject deleted successfully!', 'success');
            }
        }

        // Students Management
        function renderPublicStudents() {
            const container = document.getElementById('studentsGrid');
            if (!container) return;
            container.innerHTML = '';
            
            if (appState.students.length === 0) {
                container.innerHTML = '<p class="text-gray-400 text-center py-8 col-span-2">No students information available yet.</p>';
                return;
            }
            
            appState.students.forEach(student => {
                const statusClass = student.status === 'Completed' ? 'bg-green-500' : 'bg-blue-500';
                const div = document.createElement('div');
                div.className = 'portfolio-card rounded-lg p-6 card-hover transition-all duration-300';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <h3 class="text-xl font-semibold portfolio-text mb-2">${student.name}</h3>
                            <p class="text-sm text-gray-400 mb-2">${student.type}</p>
                        </div>
                        <span class="${statusClass} text-white text-xs px-3 py-1 rounded-full">${student.status}</span>
                    </div>
                    ${student.topic ? `<p class="text-sm font-medium text-gray-300 mb-3">${student.topic}</p>` : ''}
                    ${student.description ? `<p class="text-sm text-gray-400 line-clamp-3 mb-3">${student.description}</p>` : ''}
                    <div class="flex items-center justify-between text-xs text-gray-500 pt-3 border-t border-gray-700">
                        <span>Started: ${new Date(student.startDate).toLocaleDateString()}</span>
                        ${student.endDate ? `<span>Completed: ${new Date(student.endDate).toLocaleDateString()}</span>` : ''}
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function renderStudents() {
            const container = document.getElementById('studentsList');
            container.innerHTML = '';
            
            if (appState.students.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">No students added yet.</p>';
                return;
            }
            
            appState.students.forEach(student => {
                const statusClass = student.status === 'Completed' ? 'status-completed' : 'status-progress';
                const div = document.createElement('div');
                div.className = 'bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <div class="flex-1">
                            <h3 class="font-semibold text-admin-text mb-1">${student.name}</h3>
                            <p class="text-xs text-admin-secondary">${student.type}</p>
                        </div>
                        <span class="status-badge ${statusClass}">${student.status}</span>
                    </div>
                    ${student.topic ? `<p class="text-sm font-medium text-gray-700 mb-2">${student.topic}</p>` : ''}
                    ${student.description ? `<p class="text-sm text-gray-600 mb-4">${student.description}</p>` : ''}
                    <div class="text-xs text-gray-500 mb-3">
                        <span>Start: ${new Date(student.startDate).toLocaleDateString()}</span>
                        ${student.endDate ? ` | End: ${new Date(student.endDate).toLocaleDateString()}` : ''}
                    </div>
                    <div class="flex justify-end space-x-2">
                        <button onclick="editStudent(${student.id})" class="text-blue-600 hover:text-blue-800 p-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                            </svg>
                        </button>
                        <button onclick="deleteStudent(${student.id})" class="text-red-600 hover:text-red-800 p-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                        </button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function showAddStudentModal() {
            document.getElementById('studentModalTitle').textContent = 'Add Student';
            document.getElementById('studentForm').reset();
            document.getElementById('studentEditId').value = '';
            document.getElementById('studentModal').classList.remove('hidden');
        }

        function closeStudentModal() {
            document.getElementById('studentModal').classList.add('hidden');
        }

        function editStudent(id) {
            const student = appState.students.find(s => s.id === id);
            if (student) {
                document.getElementById('studentModalTitle').textContent = 'Edit Student';
                document.getElementById('studentEditId').value = student.id;
                document.getElementById('studentName').value = student.name;
                document.getElementById('studentType').value = student.type;
                document.getElementById('studentStatus').value = student.status;
                document.getElementById('studentStartDate').value = student.startDate;
                document.getElementById('studentEndDate').value = student.endDate || '';
                document.getElementById('studentTopic').value = student.topic || '';
                document.getElementById('studentDescription').value = student.description || '';
                document.getElementById('studentModal').classList.remove('hidden');
            }
        }

        function handleStudentSubmit(e) {
            e.preventDefault();
            const editId = document.getElementById('studentEditId').value;
            const studentData = {
                name: document.getElementById('studentName').value,
                type: document.getElementById('studentType').value,
                status: document.getElementById('studentStatus').value,
                startDate: document.getElementById('studentStartDate').value,
                endDate: document.getElementById('studentEndDate').value,
                topic: document.getElementById('studentTopic').value,
                description: document.getElementById('studentDescription').value
            };
            
            if (editId) {
                const index = appState.students.findIndex(s => s.id === parseInt(editId));
                if (index !== -1) {
                    appState.students[index] = { ...appState.students[index], ...studentData };
                }
            } else {
                const newStudent = {
                    id: Date.now(),
                    ...studentData,
                    dateAdded: new Date().toISOString()
                };
                appState.students.unshift(newStudent);
            }
            
            saveToLocalStorage();
            closeStudentModal();
            renderStudents();
            updatePortfolioView();
            showNotification('Student saved successfully!', 'success');
        }

        function deleteStudent(id) {
            if (confirm('Are you sure you want to delete this student record?')) {
                appState.students = appState.students.filter(s => s.id !== id);
                saveToLocalStorage();
                renderStudents();
                updatePortfolioView();
                showNotification('Student deleted successfully!', 'success');
            }
        }

        // Utility Functions
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
            notification.className = `fixed top-4 right-4 z-50 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg animate-slideIn`;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }
    </script>
</body>
</html>
